--- категория: примеры группа: компонент заголовок: ячейка пользовательский компонент обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/пользовательский-ячейка-макет-jsx.png порядок: 1-1 ссылка: пользовательский_define/react-пользовательский-компонент --- # ячейка пользовательский компонент Like пользовательскиймакет, Вы можете использовать react компонентs к пользовательскийize макет. для details, please refer к [пользовательский компонентs](../../guide/пользовательский_define/react-пользовательский-компонент) ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица-react // импорт * as ReactВТаблица от '@visactor/react-втаблица'; const VGroup = ReactВТаблица.группа; const VText = ReactВТаблица.текст; const VImвозраст = ReactВТаблица.Imвозраст; const VTag = ReactВТаблица.тег; const records = [ { bloggerId: 1, bloggerимя: 'Virtual Anchor Xiaohua', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/flower.jpg', introduction: 'Hi everyone, I am Xiaohua, the virtual host. I am a little fairy who likes games, анимация и food. I hope к share happy moments с you through live broadcast.', fansCount: 400, worksCount: 10, viewCount: 5, Город: 'Dream Город', теги: ['game', 'anime', 'food'] }, { bloggerId: 2, bloggerимя: 'Virtual anchor little wolf', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg', introduction: 'Hello everyone, I am the virtual anchor Little Wolf. I like music, travel и photography, и I hope к explore the beauty из the world с you through live broadcast.', fansCount: 800, worksCount: 20, viewCount: 15, Город: 'Город из Music', теги: ['music', 'travel', 'photography'] }, { bloggerId: 3, bloggerимя: 'Virtual anchor bunny', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/rabbit.jpg', introduction: 'Hello everyone, I am the virtual anchor Xiaotu. I like painting, handicrafts и beauty makeup. I hope к share creativity и fashion с you through live broadcast.', fansCount: 600, worksCount: 15, viewCount: 10, Город: 'Город из Art', теги: ['painting', 'handmade', 'beauty makeup'] }, { bloggerId: 4, bloggerимя: 'Virtual anchor kitten', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/cat.jpg', introduction: 'Hello everyone, I am the virtual host Kitty. I am a lazy cat who likes dancing, fitness и coхорошоing. I hope к live a healthy и happy life с everyone through the live broadcast.', fansCount: 1000, worksCount: 30, viewCount: 20, Город: 'Health Город', теги: ['dance', 'fitness', 'coхорошоing'] }, { bloggerId: 5, bloggerимя: 'Virtual anchor Bear', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg', introduction: 'Hello everyone, I am the virtual host Xiaoxiong. A little wise man who likes movies, reading и philosophy, I hope к explore the meaning из life с you through live broadcast.', fansCount: 1200, worksCount: 25, viewCount: 18, Город: 'Город из Wisdom', теги: ['Movie', 'Literature'] }, { bloggerId: 6, bloggerимя: 'Virtual anchor bird', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bird.jpeg', introduction: 'Hello everyone, I am the virtual anchor Xiaoniao. I like singing, acting и variety shows. I hope к be happy с everyone through the live broadcast.', fansCount: 900, worksCount: 12, viewCount: 8, Город: 'Happy Город', теги: ['music', 'Производительность', 'variety'] } ]; const пользовательскиймакеткомпонент = props => { const { таблица, строка, колонка, rect, текст } = props; if (!таблица || строка === undefined || колонка === undefined) { возврат null; } const { высота, ширина } = rect || таблица.getCellRect(колонка, строка); const запись = таблица.getRecordByRowCol(колонка, строка); const [hoverTitle, setHoverTitle] = React.useState(false); const [hoverиконка, setHoverиконка] = React.useState(false); const groupRef = React.useRef(null); возврат ( <VGroup attribute={{ ид: 'контейнер', ширина, высота, display: 'flex', flexWrap: 'nowrap', justifyContent: 'flex-начало', alignContent: 'центр' }} ref={groupRef} > <VGroup attribute={{ ид: 'контейнер-лево', ширина: 60, высота, заполнить: 'red', opaГород: 0.1, display: 'flex', justifyContent: 'space-around', alignItems: 'центр' }} > <VImвозраст attribute={{ ид: 'иконка0', ширина: 50, высота: 50, imвозраст: запись.bloggerAvatar, cornerRadius: 25 }} ></VImвозраст> </VGroup> <VGroup ид="контейнер-право" attribute={{ ид: 'контейнер-право', ширина: ширина - 60, высота, заполнить: 'yellow', opaГород: 0.1, display: 'flex', flexWrap: 'nowrap', flexDirection: 'колонка', justifyContent: 'space-around', alignItems: 'центр' }} > <VGroup attribute={{ ид: 'контейнер-право-верх', заполнить: 'red', opaГород: 0.1, ширина: ширина - 60, высота: высота / 2, display: 'flex', flexWrap: 'перенос', justifyContent: 'flex-начало', alignItems: 'центр' }} > <VText attribute={{ ид: 'bloggerимя', текст: запись.bloggerимя, fontSize: 13, fontFamily: 'sans-serif', заполнить: hoverTitle ? 'red' : 'black', textAlign: 'лево', textBaseline: 'верх', boundsPadding: [0, 0, 0, 10] }} onMouseEnter={событие => { setHoverTitle(true); событие.currentTarget.stвозраст.renderNextFrame(); }} onMouseLeave={событие => { setHoverTitle(false); событие.currentTarget.stвозраст.renderNextFrame(); }} ></VText> <VImвозраст attribute={{ ид: 'location-иконка', ширина: 15, высота: 15, imвозраст: '<svg t="1684484908497" class="иконка" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-ид="2429" ширина="200" высота="200"><path d="M512 512a136.533333 136.533333 0 1 1 136.533333-136.533333 136.533333 136.533333 0 0 1-136.533333 136.533333z m0-219.272533a81.92 81.92 0 1 0 81.92 81.92 81.92 81.92 0 0 0-81.92-81.92z" заполнить="#0073FF" p-ид="2430"></path><path d="M512 831.214933a27.306667 27.306667 0 0 1-19.2512-8.055466l-214.493867-214.357334a330.5472 330.5472 0 1 1 467.490134 0l-214.357334 214.357334a27.306667 27.306667 0 0 1-19.387733 8.055466z m0-732.091733a275.933867 275.933867 0 0 0-195.106133 471.04L512 765.269333l195.106133-195.106133A275.933867 275.933867 0 0 0 512 99.1232z" заполнить="#0073FF" p-ид="2431"></path><path d="M514.321067 979.490133c-147.456 0-306.107733-37.000533-306.107734-118.3744 0-45.602133 51.746133-81.92 145.681067-102.4a27.306667 27.306667 0 1 1 11.605333 53.384534c-78.370133 17.066667-102.673067 41.915733-102.673066 49.015466 0 18.432 88.064 63.761067 251.4944 63.761067s251.4944-45.192533 251.4944-63.761067c0-7.3728-25.258667-32.768-106.496-49.834666a27.306667 27.306667 0 1 1 11.195733-53.384534c96.6656 20.343467 150.186667 56.9344 150.186667 103.2192-0.273067 80.964267-158.9248 118.3744-306.3808 118.3744z" заполнить="#0073FF" p-ид="2432"></path></svg>', boundsPadding: [0, 0, 0, 10], cursor: 'pointer', фон: hoverиконка ? { заполнить: '#ccc', cornerRadius: 5, expandX: 1, expandY: 1 } : undefined }} onMouseEnter={событие => { setHoverиконка(true); событие.currentTarget.stвозраст.renderNextFrame(); }} onMouseLeave={событие => { setHoverиконка(false); событие.currentTarget.stвозраст.renderNextFrame(); }} ></VImвозраст> <VText attribute={{ ид: 'locationимя', текст: запись.Город, fontSize: 11, fontFamily: 'sans-serif', заполнить: '#6f7070', textAlign: 'лево', textBaseline: 'верх' }} ></VText> </VGroup> <VGroup attribute={{ ид: 'контейнер-право-низ', заполнить: 'green', opaГород: 0.1, ширина: ширина - 60, высота: высота / 2, display: 'flex', flexWrap: 'перенос', justifyContent: 'flex-начало', alignItems: 'центр' }} > {запись.теги.length ? запись.теги.map((str, i) => ( // <VText attribute={{ // текст: str, // fontSize: 10, // fontFamily: 'sans-serif', // заполнить: 'rgb(51, 101, 238)', // textAlign: 'лево', // textBaseline: 'rop', // boundsPadding: [0, 0, 0, 10], // }}></VText> <VTag key={i} textStyle={{ fontSize: 10, fontFamily: 'sans-serif', заполнить: 'rgb(51, 101, 238)' // textAlign: 'лево', // textBaseline: 'rop', }} panelStyle={{ видимый: true, заполнить: '#e6fffb', lineширина: 1, cornerRadius: 4 }} boundsPadding={[0, 0, 0, 10]} > {str} </VTag> )) : null} </VGroup> </VGroup> </VGroup> ); }; const корень = ReactDom.createRoot(документ.getElementById(CONTAINER_ID)); корень.рендер( <ReactВТаблица.списоктаблица records={records} defaultRowвысота={80} высота={'500px'}> <ReactВТаблица.СписокКолонка поле={'bloggerId'} заголовок={'bloggerId'} /> <ReactВТаблица.СписокКолонка поле={'bloggerимя'} заголовок={'bloggerимя'} ширина={330} disableHover={true}> <пользовательскиймакеткомпонент role={'пользовательский-макет'} /> </ReactВТаблица.СписокКолонка> <ReactВТаблица.СписокКолонка поле={'fansCount'} заголовок={'fansCount'} /> <ReactВТаблица.СписокКолонка поле={'worksCount'} заголовок={'worksCount'} /> <ReactВТаблица.СписокКолонка поле={'viewCount'} заголовок={'viewCount'} /> </ReactВТаблица.списоктаблица> ); // Релиз openinula instance, do не copy window.пользовательскийРелиз = () => { корень.unmount(); }; ``` 