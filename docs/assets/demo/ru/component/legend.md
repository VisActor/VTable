--- категория: примеры группа: компонент заголовок: легенда обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/легенда.png ссылка: компонентs/легенда опция: списоктаблица-легендаs-discrete#тип --- # легенда в this пример, the фон цвет из the ячейка is mapped по the Категория Dimension значение к генерировать a легенда item, и the Нажать событие из the легенда item is списокened для к highlight the ячейка content. ## Ключевые Конфигурации - `легенда` конфигурация таблица легенда, please refer к: https://www.visactor.io/втаблица/опция/списоктаблица#легенда ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица fetch('https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/North_American_Superstore_данные.json') .then(res => res.json()) .then(данные => { const Категорияs = ['Office Supplies', 'Technology', 'Furniture']; const colorToКатегория = ['rgba(255, 127, 14,1)', 'rgba(227, 119, 194, 1)', 'rgba(44, 160, 44, 1)']; const colorToКатегорияUnactive = ['rgba(255, 127, 14, .2)', 'rgba(227, 119, 194, .2)', 'rgba(44, 160, 44, .2)']; const колонки = [ { поле: 'ид Заказа', заголовок: 'ид Заказа', ширина: 'авто' }, { поле: 'пользовательскийer ид', заголовок: 'пользовательскийer ид', ширина: 'авто' }, { поле: 'Product имя', заголовок: 'Product имя', ширина: '200' }, { поле: 'Категория', заголовок: 'Категория', ширина: 'авто', стиль: { // bgColor(args) { // const index = Категорияs.indexOf(args.значение); // возврат colorToКатегория[index]; // } } }, { поле: 'под-Категория', заголовок: 'под-Категория', ширина: 'авто' }, { поле: 'Регион', заголовок: 'Регион', ширина: 'авто' }, { поле: 'Город', заголовок: 'Город', ширина: 'авто' }, { поле: 'Дата Заказа', заголовок: 'Дата Заказа', ширина: 'авто' }, { поле: 'Количество', заголовок: 'Количество', ширина: 'авто' }, { поле: 'Продажи', заголовок: 'Продажи', ширина: 'авто' }, { поле: 'Прибыль', заголовок: 'Прибыль', ширина: 'авто' } ]; const опция = { records: данные, колонки, ширинаMode: 'standard', Подсказка: { isShowOverflowTextПодсказка: true }, тема: втаблица.темаs.по умолчанию.extends({ bodyStyle: { bgColor(args) { const { строка, колонка } = args; const запись = args.таблица.getCellOriginRecord(колонка, строка); возврат colorToКатегория[Категорияs.indexOf(запись.Категория)]; } } }), легендаs: { данные: [ { label: 'Office Supplies', shape: { заполнить: '#ff7f0e', symbolType: 'circle' } }, { label: 'Technology', shape: { заполнить: '#e377c2', symbolType: 'square' } }, { label: 'Furniture', shape: { заполнить: '#2ca02c', symbolType: 'circle' } } ], orient: 'верх', позиция: 'начало', maxRow: 1, заполнение: 10 } }; таблицаInstance = новый втаблица.списоктаблица(документ.getElementById(CONTAINER_ID), опция); window.таблицаInstance = таблицаInstance; const { легенда_ITEM_Нажать } = втаблица.списоктаблица.событие_TYPE; таблицаInstance.на(легенда_ITEM_Нажать, args => { const highlightКатегорияs = args.значение; таблицаInstance.updateтема( втаблица.темаs.по умолчанию.extends({ bodyStyle: { цвет(args) { const { строка, колонка } = args; const запись = таблицаInstance.getCellOriginRecord(колонка, строка); if (highlightКатегорияs.indexOf(запись.Категория) >= 0) { возврат 'black'; } возврат '#e5dada'; }, bgColor(args) { const { строка, колонка } = args; const запись = таблицаInstance.getCellOriginRecord(колонка, строка); if (highlightКатегорияs.indexOf(запись.Категория) >= 0) { возврат colorToКатегория[Категорияs.indexOf(запись.Категория)]; } возврат colorToКатегорияUnactive[Категорияs.indexOf(запись.Категория)]; } } }) ); console.log(таблицаInstance.stateManвозрастr?.выбрать); }); }); ``` 