--- категория: примеры группа: компонент заголовок: Подсказка пользовательский content обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/Подсказка-пользовательский-content.png ссылка: компонентs/Подсказка --- # Подсказка по списокening`mouseenter_cell`событие, move the mouse into the ячейка к prompt the Dimension и Metirc information из the ячейка. по списокening`mouseleave_cell`событие, the mouse leaves the ячейка к make the prompt box disappear. ## Ключевые Конфигурации - `mouseenter_cell` событие - `mouseleave_cell` событие - `mouseleave_таблица` событие ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица const контейнер = документ.getElementById(CONTAINER_ID); const всплывающее окно = документ.createElement('div'); объект.assign(всплывающее окно.стиль, { позиция: 'fixed', ширина: '300px', backgroundColor: '#f1f1f1', bпорядок: '1px solid #ccc', заполнение: '20px', textAlign: 'лево' }); функция showПодсказка(infoсписок, x, y) { всплывающее окно.innerHTML = ''; всплывающее окно.ид = 'всплывающее окно'; всплывающее окно.стиль.лево = x + 'px'; всплывающее окно.стиль.верх = y + 'px'; const heading = документ.createElement('h4'); heading.textContent = '数据信息'; heading.стиль.отступ = '0px'; всплывающее окно.appendChild(heading); для (let i = 0; i < infoсписок.length; i++) { const информация = infoсписок[i]; const info1 = документ.createElement('p'); info1.textContent = информация; всплывающее окно.appendChild(info1); } // 将弹出框添加到文档主体中 документ.body.appendChild(всплывающее окно); } функция hideПодсказка() { if (документ.body.contains(всплывающее окно)) { документ.body.removeChild(всплывающее окно); } } let таблицаInstance; fetch('https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/North_American_Superstore_сводный2_данные.json') .then(res => res.json()) .then(данные => { const опция = { records: данные, rowTree: [ { dimensionKey: 'Категория', значение: 'Furniture', hierarchyState: 'развернуть', children: [ { dimensionKey: 'под-Категория', значение: 'Boхорошоcases', hierarchyState: 'свернуть' }, { dimensionKey: 'под-Категория', значение: 'Chairs', hierarchyState: 'свернуть' }, { dimensionKey: 'под-Категория', значение: 'Furnishings' }, { dimensionKey: 'под-Категория', значение: 'таблицаs' } ] }, { dimensionKey: 'Категория', значение: 'Office Supplies', children: [ { dimensionKey: 'под-Категория', значение: 'Appliances' }, { dimensionKey: 'под-Категория', значение: 'Art' }, { dimensionKey: 'под-Категория', значение: 'Binders' }, { dimensionKey: 'под-Категория', значение: 'Envelopes' }, { dimensionKey: 'под-Категория', значение: 'Fasteners' }, { dimensionKey: 'под-Категория', значение: 'Labels' }, { dimensionKey: 'под-Категория', значение: 'Paper' }, { dimensionKey: 'под-Категория', значение: 'Storвозраст' }, { dimensionKey: 'под-Категория', значение: 'Supplies' } ] }, { dimensionKey: 'Категория', значение: 'Technology', children: [ { dimensionKey: 'под-Категория', значение: 'Accessories' }, { dimensionKey: 'под-Категория', значение: 'Copiers' }, { dimensionKey: 'под-Категория', значение: 'Machines' }, { dimensionKey: 'под-Категория', значение: 'Phones' } ] } ], columnTree: [ { dimensionKey: 'Регион', значение: 'West', children: [ { значение: 'Продажи', indicatorKey: 'Продажи' }, { значение: 'Прибыль', indicatorKey: 'Прибыль' } ] }, { dimensionKey: 'Регион', значение: 'South', children: [ { значение: 'Продажи', indicatorKey: 'Продажи' }, { значение: 'Прибыль', indicatorKey: 'Прибыль' } ] }, { dimensionKey: 'Регион', значение: 'Central', children: [ { значение: 'Продажи', indicatorKey: 'Продажи' }, { значение: 'Прибыль', indicatorKey: 'Прибыль' } ] }, { dimensionKey: 'Регион', значение: 'East', children: [ { значение: 'Продажи', indicatorKey: 'Продажи' }, { значение: 'Прибыль', indicatorKey: 'Прибыль' } ] } ], rows: [ { dimensionKey: 'Категория', заголовок: 'Catogery', ширина: 'авто' }, { dimensionKey: 'под-Категория', заголовок: 'под-Catogery', ширина: 'авто' } ], колонки: [ { dimensionKey: 'Регион', заголовок: 'Регион', headerStyle: { textStick: true }, ширина: 'авто' } ], indicators: [ { indicatorKey: 'Продажи', заголовок: 'Продажи', ширина: 'авто', showсортировка: false, headerStyle: { fontWeight: 'normal' }, format: значение => { if (значение) { возврат '$' + число(значение).toFixed(2); } возврат ''; }, стиль: { заполнение: [16, 28, 16, 28], цвет(args) { if (args.данныеValue >= 0) { возврат 'black'; } возврат 'red'; } } }, { indicatorKey: 'Прибыль', заголовок: 'Прибыль', ширина: 'авто', showсортировка: false, headerStyle: { fontWeight: 'normal' }, format: значение => { if (значение) { возврат '$' + число(значение).toFixed(2); } возврат ''; }, стиль: { заполнение: [16, 28, 16, 28], цвет(args) { if (args.данныеValue >= 0) { возврат 'black'; } возврат 'red'; } } } ], угол: { titleOnDimension: 'строка', headerStyle: { textStick: true } }, ширинаMode: 'standard', rowHierarchyIndent: 20, rowExpandLevel: 1, rowHierarchyTextStartAlignment: true, dragпорядок: { dragHeaderMode: 'все' } }; таблицаInstance = новый втаблица.сводныйтаблица(документ.getElementById(CONTAINER_ID), опция); window.таблицаInstance = таблицаInstance; таблицаInstance.на('mouseenter_cell', args => { const { cellRange, колонка, строка } = args; debugger; const значение = таблицаInstance.getCellValue(колонка, строка); const cellHeaderPaths = таблицаInstance.getCellHeaderPaths(колонка, строка); const infoсписок = []; cellHeaderPaths.rowHeaderPaths?.forEach(headerDimension => { infoсписок.push( headerDimension.indicatorKey ? headerDimension.indicatorKey + ': ' + значение : headerDimension.dimensionKey + ': ' + headerDimension.значение ); }); cellHeaderPaths.colHeaderPaths?.forEach(headerDimension => { infoсписок.push( headerDimension.indicatorKey ? headerDimension.indicatorKey + ': ' + значение : headerDimension.dimensionKey + ': ' + headerDimension.значение ); }); const контейнер = документ.getElementById(CONTAINER_ID); const containerRect = контейнер.getBoundingClientRect(); if (!таблицаInstance.isHeader(колонка, строка)) { showПодсказка(infoсписок, cellRange?.лево + containerRect.лево, cellRange?.низ + containerRect.верх); } else { hideПодсказка(); } }); таблицаInstance.на('mouseleave_cell', args => { const { cellRange, колонка, строка } = args; hideПодсказка(); }); таблицаInstance.на('mouseleave_таблица', args => { const { cellRange, колонка, строка } = args; hideПодсказка(); }); }); ``` 