--- категория: примеры группа: бизнес заголовок: Roadmap обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/roadmap.png порядок: 9-6 --- # Roadmap This пример shows the main R & D roadmap that follows втаблица ## Ключевые Конфигурации - регистрация.иконка - headerиконка - иконка ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица // 注册里程碑的иконка 小旗帜 втаблица.регистрация.иконка('milestone', { имя: 'milestone', тип: 'svg', ширина: 50, высота: 50, marginRight: 10, positionType: втаблица.TYPES.иконкаPosition.лево, interactive: false, svg: '<svg t="1688180448442" class="иконка" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-ид="2478" ширина="200" высота="200"><path d="M248.2 154.2s93.6-107.9 323.2-21.6C774.2 208.8 905.7 164 905.7 164l-75.1 212.5L905.7 580s-187.8 98.4-394.5-9c-150.3-83.4-263 22.1-263 22.1V154.2z" заполнить="#d81e06" p-ид="2479"></path><path d="M116.7 960.2c-10.4 0-18.8-8.4-18.8-18.8V114.9c0-10.4 8.4-18.8 18.8-18.8s18.8 8.4 18.8 18.8v826.5c0 10.4-8.4 18.8-18.8 18.8zM716.1 640.3c-63.4 0-137-12.9-213.5-52.7-137.3-76.1-240.5 18.2-241.5 19.1-5.5 5.1-13.4 6.5-20.3 3.5s-11.3-9.7-11.3-17.2V154.2c0-4.5 1.6-8.9 4.6-12.3 4.2-4.8 105-116.8 343.9-26.9 193.2 72.6 320.4 31.6 321.7 31.2 6.9-2.3 14.3-0.5 19.4 4.6 5 5.1 6.7 12.7 4.3 19.4l-72.9 206.1 72.8 197.2c3.3 8.9-0.6 18.8-8.9 23.2-5.1 2.6-85.4 43.6-198.3 43.6z m-321-119.9c37.5 0 79.9 9 125.3 34.2C683 639.1 834.9 589.5 882 570.1L812.9 383c-1.5-4.1-1.5-8.6-0.1-12.8l63.7-180.3c-53.4 9-164.2 15.7-311.8-39.8C377.3 79.7 287.5 143.8 267 162v394.7c27.9-16.6 72.7-36.3 128.1-36.3z" заполнить="#d81e06" p-ид="2480"></path></svg>' }); // 注册动画功能图标 втаблица.регистрация.иконка('анимация', { имя: 'анимация', тип: 'svg', ширина: 20, высота: 20, marginRight: 6, positionType: втаблица.TYPES.иконкаPosition.contentLeft, interactive: false, svg: '<svg t="1688180606131" class="иконка" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-ид="2767" ширина="200" высота="200"><path d="M156 64v896l356-280 356 280V64H156z m511.8 556.4L512 538.5l-155.7 81.9L386 447 260 324.2l174.1-25.3L512 141.1l77.9 157.8L764 324.2 638 447l29.8 173.4z" заполнить="#1cdb11" p-ид="2768"></path></svg>' }); // 注册基础功能图标 втаблица.регистрация.иконка('функция', { positionType: втаблица.TYPES.иконкаPosition.contentLeft, имя: 'функция', тип: 'svg', ширина: 20, высота: 20, marginRight: 6, interactive: false, svg: '<svg t="1688187024984" class="иконка" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-ид="19029" ширина="200" высота="200"><path d="M224.6 185.9H415v295.8H224.6zM591.793 333.786l156.481-156.48 156.482 156.48-156.482 156.482zM224.6 603.7H415v295.8H224.6zM653 603.7h190.4v295.8H653z" заполнить="#91B4FF" p-ид="19030"></path><path d="M414.9 508H119.2c-14.6 0-26.3-11.8-26.3-26.3V185.9c0-14.5 11.8-26.3 26.3-26.3H415c14.6 0 26.3 11.8 26.3 26.3v295.8c0 14.5-11.8 26.3-26.4 26.3z m-269.4-52.7h243.1V212.2H145.5v243.1zM695.5 569.3c-7 0-13.7-2.8-18.6-7.7L467.7 352.4c-10.3-10.3-10.3-27 0-37.3L676.9 106c9.9-9.9 27.4-9.9 37.3 0l209.1 209.2c10.3 10.3 10.3 27 0 37.3L714.1 561.6c-4.9 4.9-11.6 7.7-18.6 7.7zM523.6 333.8l171.9 171.9 171.9-171.9-171.9-171.9-171.9 171.9zM414.9 925.8H119.2c-14.6 0-26.3-11.8-26.3-26.3v-36.9c0-14.5 11.8-26.3 26.3-26.3s26.3 11.8 26.3 26.3v10.6h243.1V630H145.5v41.5c0 14.5-11.8 26.3-26.3 26.3S92.8 686 92.8 671.5v-67.8c0-14.5 11.8-26.3 26.3-26.3h295.8c14.6 0 26.3 11.8 26.3 26.3v295.8c0.1 14.5-11.7 26.3-26.3 26.3z" заполнить="#3778FF" p-ид="19031"></path><path d="M119.2 808.4c-14.6 0-26.3-11.8-26.3-26.3v-30.5c0-14.5 11.8-26.3 26.3-26.3s26.3 11.8 26.3 26.3V782c0 14.6-11.8 26.4-26.3 26.4zM843.4 925.8H547.6c-14.6 0-26.3-11.8-26.3-26.3V603.7c0-14.5 11.8-26.3 26.3-26.3h295.8c14.6 0 26.3 11.8 26.3 26.3v295.8c0 14.5-11.8 26.3-26.3 26.3z m-269.5-52.7H817V630H573.9v243.1z" заполнить="#3778FF" p-ид="19032"></path></svg>' }); // 注册可视化含义图标 втаблица.регистрация.иконка('visualize', { positionType: втаблица.TYPES.иконкаPosition.contentLeft, имя: 'visualize', тип: 'svg', ширина: 20, высота: 20, marginRight: 6, interactive: false, svg: '<svg t="1688287085629" class="иконка" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-ид="20392" ширина="200" высота="200"><path d="M988.968421 512c0-61.978947-56.589474-118.568421-150.905263-158.989474 0-2.694737 0-2.694737 2.694737-5.389473 26.947368-99.705263 16.168421-172.463158-32.336842-210.189474-64.673684-51.2-177.852632-18.863158-296.421053 70.063158-118.568421-91.621053-231.747368-121.263158-296.421053-70.063158-48.505263 40.421053-56.589474 118.568421-29.642105 215.578947-91.621053 40.421053-150.905263 94.315789-150.905263 158.989474 0 61.978947 56.589474 118.568421 150.905263 158.989474-26.947368 97.010526-18.863158 175.157895 29.642105 215.578947 21.557895 16.168421 45.810526 24.252632 75.452632 24.252632 61.978947 0 140.126316-35.031579 220.968421-94.31579 80.842105 61.978947 158.989474 94.315789 220.968421 94.31579 29.642105 0 56.589474-8.084211 75.452632-24.252632 48.505263-37.726316 59.284211-113.178947 32.336842-210.189474 0-2.694737 0-2.694737-2.694737-5.389473 94.315789-40.421053 150.905263-97.010526 150.905263-158.989474zM730.273684 150.905263c21.557895 0 40.421053 5.389474 53.894737 16.168421 35.031579 26.947368 40.421053 88.926316 18.863158 172.463158-53.894737-18.863158-118.568421-32.336842-191.326316-40.421053-24.252632-24.252632-48.505263-45.810526-70.063158-67.368421 70.063158-51.2 140.126316-80.842105 188.631579-80.842105z m-78.147368 471.578948c-18.863158 21.557895-35.031579 43.115789-53.894737 64.673684-26.947368 2.694737-56.589474 2.694737-83.536842 2.694737-29.642105 0-56.589474 0-83.536842-2.694737-18.863158-18.863158-37.726316-40.421053-53.894737-64.673684-29.642105-37.726316-53.894737-72.757895-75.452632-110.484211 21.557895-37.726316 48.505263-75.452632 75.452632-110.484211 18.863158-21.557895 37.726316-43.115789 53.894737-64.673684 26.947368-2.694737 56.589474-2.694737 83.536842-2.694737s56.589474 0 83.536842 2.694737c18.863158 18.863158 37.726316 40.421053 53.894737 64.673684 29.642105 35.031579 53.894737 72.757895 75.452631 110.484211-21.557895 37.726316-48.505263 75.452632-75.452631 110.484211z m97.010526-72.757895c18.863158 32.336842 32.336842 67.368421 43.11579 97.010526-40.421053 13.473684-88.926316 24.252632-140.126316 32.336842 10.778947-10.778947 18.863158-21.557895 26.947368-35.031579 26.947368-29.642105 48.505263-61.978947 70.063158-94.315789zM555.115789 727.578947c-13.473684 13.473684-29.642105 26.947368-43.115789 40.421053-13.473684-13.473684-29.642105-24.252632-43.115789-40.421053h86.231578z m-183.242105-48.505263c-51.2-8.084211-99.705263-18.863158-140.126316-32.336842 10.778947-32.336842 26.947368-64.673684 43.11579-97.010526 18.863158 32.336842 43.115789 64.673684 67.368421 97.010526 10.778947 10.778947 18.863158 21.557895 29.642105 32.336842z m-97.010526-204.8C256 441.936842 242.526316 406.905263 231.747368 377.263158c40.421053-13.473684 88.926316-24.252632 140.126316-32.336842-10.778947 10.778947-18.863158 21.557895-26.947368 35.031579-26.947368 29.642105-48.505263 61.978947-70.063158 94.315789z m194.021053-177.852631c13.473684-13.473684 29.642105-26.947368 43.115789-40.421053 13.473684 13.473684 29.642105 24.252632 43.115789 40.421053h-86.231578z m212.88421 80.842105c-8.084211-10.778947-18.863158-21.557895-26.947368-35.031579 51.2 8.084211 99.705263 18.863158 140.126315 32.336842-10.778947 32.336842-26.947368 64.673684-43.115789 97.010526-24.252632-29.642105-45.810526-61.978947-70.063158-94.315789zM239.831579 167.073684c13.473684-10.778947 32.336842-16.168421 53.894737-16.168421 51.2 0 118.568421 29.642105 188.631579 83.536842-24.252632 18.863158-48.505263 43.115789-70.063158 67.368421-70.063158 5.389474-134.736842 21.557895-191.326316 40.421053-24.252632-80.842105-18.863158-145.515789 18.863158-175.157895zM72.757895 512c0-45.810526 48.505263-88.926316 123.957894-121.263158 13.473684 37.726316 32.336842 80.842105 56.589474 121.263158-24.252632 43.115789-43.115789 83.536842-56.589474 121.263158-75.452632-32.336842-123.957895-75.452632-123.957894-121.263158z m167.073684 344.926316c-37.726316-29.642105-40.421053-94.315789-18.863158-172.463158 53.894737 18.863158 118.568421 32.336842 191.326316 40.421053 24.252632 24.252632 48.505263 45.810526 70.063158 67.368421-102.4 72.757895-194.021053 102.4-242.526316 64.673684z m563.2-172.463158c21.557895 80.842105 16.168421 145.515789-18.863158 172.463158-48.505263 37.726316-142.821053 8.084211-242.526316-67.368421 24.252632-18.863158 48.505263-43.115789 70.063158-67.368421 72.757895-5.389474 137.431579-18.863158 191.326316-37.726316z m24.252632-51.2c-13.473684-40.421053-32.336842-80.842105-56.589474-121.263158 24.252632-40.421053 43.115789-83.536842 56.589474-121.263158 75.452632 32.336842 123.957895 75.452632 123.957894 121.263158s-48.505263 88.926316-123.957894 121.263158z" заполнить="#13227a" p-ид="20393"></path><path d="M512 398.821053c-61.978947 0-113.178947 51.2-113.178947 113.178947s51.2 113.178947 113.178947 113.178947 113.178947-51.2 113.178947-113.178947-51.2-113.178947-113.178947-113.178947z m0 188.631579c-40.421053 0-75.452632-35.031579-75.452632-75.452632s35.031579-75.452632 75.452632-75.452632 75.452632 35.031579 75.452632 75.452632-35.031579 75.452632-75.452632 75.452632z" заполнить="#13227a" p-ид="20394"></path></svg>' }); // 注册可视化含义图标 втаблица.регистрация.иконка('компонент', { positionType: втаблица.TYPES.иконкаPosition.contentLeft, имя: 'компонент', тип: 'svg', ширина: 20, высота: 20, marginRight: 6, interactive: false, svg: '<svg t="1688287405560" class="иконка" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-ид="22623" ширина="200" высота="200"><path d="M859.8 452.8h-46.5V308.1c0-51.7-41.3-98.2-98.2-98.2H570.5v-46.5c0-51.7-41.3-98.2-98.2-98.2-51.7 0-98.2 41.3-98.2 98.2v46.5H229.5c-51.7 0-98.2 41.3-98.2 98.2v144.7h46.5c51.7 0 98.2 41.3 98.2 98.2 0 51.7-41.3 98.2-98.2 98.2h-46.5v144.7c0 51.7 41.3 98.2 98.2 98.2h144.7v-46.5c0-51.7 41.3-98.2 98.2-98.2 51.7 0 98.2 41.3 98.2 98.2V892h144.7c51.7 0 98.2-41.3 98.2-98.2V649.1H860c51.7 0 98.2-41.3 98.2-98.2-0.2-56.8-46.7-98.1-98.4-98.1z" заполнить="#00AA88" p-ид="22624"></path></svg>' }); // 注册节点背景大箭头 втаблица.регистрация.иконка('arrow', { имя: 'arrow', тип: 'svg', ширина: 190, высота: 50, positionType: втаблица.TYPES.иконкаPosition.absoluteRight, marginRight: 90, interactive: false, svg: '<svg xmlns="http://www.w3.org/2000/svg" ширина="67" высота="11" viewBox="0 0 67 11" заполнить="никто"><path d="M60 0.5H2L7 5L2 10H60L65.5 5L60 0.5Z" заполнить="#E13B9F" strхорошоe="#E13B9F"/></svg>' }); const records = [ { month: 'JUL', базовый: 'пользовательский макет' // анимация: '' // компонент: 'анимация 1' // Visualize: '' }, { month: 'AUG', базовый: 'пользовательский макет', базовый2: 'строка замороженный', // анимация: '' компонент: 'Access Common Visual компонент', Visualize: 'Extend Sparkline' }, { month: 'SEP', базовый: 'флажок тип', базовый2: 'строка замороженный', анимация: 'сортировка анимация', компонент: 'Access Common Visual компонент', Visualize: 'сводный график' }, { month: 'OCT', базовый: 'Download', базовый2: 'сводный анализ', анимация: 'развернуть анимация', компонент: 'Access Common Visual компонент', Visualize: 'сводный график' }, { month: 'NOV', базовый: 'Ediтаблица', базовый2: 'сводный анализ', анимация: 'перетаскивание анимация', // компонент: '', Visualize: 'Other таблица тип' }, { month: 'DEC', базовый: 'Ediтаблица', // анимация: 'перетаскивание анимация', // компонент: '', Visualize: 'Other таблица тип' } ]; const опция = { колонки: [ { поле: 'month', заголовок: '', // ширина: 'авто', стиль: { textAlign: 'центр', цвет: 'white', borderLineширина: 0 }, пользовательскийRender(args) { const { ширина, высота } = args.rect; const { данныеValue, таблица, строка, колонка } = args; const elements = []; elements.push({ тип: 'line', strхорошоe: '#3c78d8', points: [ { x: 0, y: высота / 2 }, { x: ширина, y: высота / 2 } ] }); elements.push({ тип: 'circle', заполнить: '#3c78d8', x: ширина / 2, y: высота / 2, radius: 40 }); возврат { renderDefault: true, elements, expectedвысота: 100, // TODO 无效 expectedширина: 200 }; } }, { поле: '', заголовок: ' ', стиль: { borderLineширина: 0 } }, { заголовок: 'базовый\nFUNCTION', hideColumnsSubHeader: true, headerиконка: ['milestone'], колонки: [ //如果只有一行 可直接拿到外层columns中 { поле: 'базовый', mergeCell: true, иконка(args) { const { колонка, строка, таблица } = args; const стиль = таблица.getCellStyle(колонка, строка); const cellValue = таблица.getCellValue(колонка, строка); if (!cellValue) { возврат ''; } const cellMergeRectW = таблица.getMergeCellRect(колонка, строка).ширина; let textширина = 0; if (cellValue) { textширина = таблица.measureText(cellValue, { fontFamily: стиль.fontFamily, fontSize: стиль.fontSize }).ширина; } const bgширина = Math.min(cellMergeRectW, Math.max(cellMergeRectW * 0.8, textширина + 50)); возврат [ 'функция', { имя: 'arrow', тип: 'svg', ширина: bgширина, высота: 50, positionType: втаблица.TYPES.иконкаPosition.absoluteRight, marginRight: (cellMergeRectW - bgширина) / 2, interactive: false, svg: '<svg xmlns="http://www.w3.org/2000/svg" ширина="67" высота="11" viewBox="0 0 67 11" заполнить="никто"><path d="M60 0.5H2L7 5L2 10H60L65.5 5L60 0.5Z" заполнить="#E13B9F" strхорошоe="#E13B9F"/></svg>' } ]; }, headerиконка: ['milestone'], заголовок: 'базовый\nFUNCTION', стиль: { borderLineширина: 2, borderColor: '' }, headerStyle: { цвет: 'black', textAlign: 'лево', lineвысота: 30 } }, { поле: 'базовый2', mergeCell: true, иконка(args) { const { колонка, строка, таблица } = args; const стиль = таблица.getCellStyle(колонка, строка); const cellValue = таблица.getCellValue(колонка, строка); if (!cellValue) { возврат ''; } const cellMergeRectW = таблица.getMergeCellRect(колонка, строка).ширина; let textширина = 0; if (cellValue) { textширина = таблица.measureText(cellValue, { fontFamily: стиль.fontFamily, fontSize: стиль.fontSize }).ширина; } const bgширина = Math.min(cellMergeRectW, Math.max(cellMergeRectW * 0.8, textширина + 50)); возврат [ 'функция', { имя: 'arrow', тип: 'svg', ширина: bgширина, высота: 50, positionType: втаблица.TYPES.иконкаPosition.absoluteRight, marginRight: (cellMergeRectW - bgширина) / 2, interactive: false, svg: '<svg xmlns="http://www.w3.org/2000/svg" ширина="67" высота="11" viewBox="0 0 67 11" заполнить="никто"><path d="M60 0.5H2L7 5L2 10H60L65.5 5L60 0.5Z" заполнить="#E13B9F" strхорошоe="#E13B9F"/></svg>' } ]; }, заголовок: '', стиль: { borderLineширина: 2, borderColor: '' }, headerStyle: { цвет: 'black', textAlign: 'лево', lineвысота: 30 } } ] }, { поле: '', заголовок: ' ', стиль: { borderLineширина: 0 } }, { поле: 'Visualize', заголовок: 'VISUALIZE', стиль: { borderLineширина: 2, borderColor: '' }, headerStyle: { цвет: 'black' }, mergeCell: true, иконка(args) { const { колонка, строка, таблица } = args; const стиль = таблица.getCellStyle(колонка, строка); const cellValue = таблица.getCellValue(колонка, строка); if (!cellValue) { возврат ''; } const cellMergeRectW = таблица.getMergeCellRect(колонка, строка).ширина; let textширина = 0; if (cellValue) { textширина = таблица.measureText(cellValue, { fontFamily: стиль.fontFamily, fontSize: стиль.fontSize }).ширина; } const bgширина = Math.min(cellMergeRectW, Math.max(cellMergeRectW * 0.8, textширина + 50)); возврат [ 'visualize', { имя: 'arrow', тип: 'svg', ширина: bgширина, высота: 50, positionType: втаблица.TYPES.иконкаPosition.absoluteRight, marginRight: (cellMergeRectW - bgширина) / 2, interactive: false, svg: '<svg xmlns="http://www.w3.org/2000/svg" ширина="74" высота="11" viewBox="0 0 74 11" заполнить="никто"><path d="M67 0.5H2L7 5L2 10H67L72.5 5L67 0.5Z" заполнить="#2BC1F0" strхорошоe="#2BC1F0"/></svg>' } ]; }, headerиконка: ['milestone'] }, { поле: '', заголовок: ' ', стиль: { borderLineширина: 0 } }, { поле: 'анимация', заголовок: 'анимация', стиль: { borderLineширина: 2, borderColor: '' }, headerStyle: { цвет: 'black' }, mergeCell: true, иконка(args) { const { колонка, строка, таблица } = args; const стиль = таблица.getCellStyle(колонка, строка); const cellValue = таблица.getCellValue(колонка, строка); if (!cellValue) { возврат ''; } const cellMergeRectW = таблица.getMergeCellRect(колонка, строка).ширина; let textширина = 0; if (cellValue) { textширина = таблица.measureText(cellValue, { fontFamily: стиль.fontFamily, fontSize: стиль.fontSize }).ширина; } const bgширина = Math.min(cellMergeRectW, Math.max(cellMergeRectW * 0.8, textширина + 50)); возврат [ 'анимация', { имя: 'arrow', тип: 'svg', ширина: bgширина, высота: 50, positionType: втаблица.TYPES.иконкаPosition.absoluteRight, marginRight: (cellMergeRectW - bgширина) / 2, interactive: false, svg: '<svg xmlns="http://www.w3.org/2000/svg" ширина="74" высота="11" viewBox="0 0 74 11" заполнить="никто"><path d="M67 0.5H2L7 5L2 10H67L72.5 5L67 0.5Z" заполнить="#A23BE1" strхорошоe="#A23BE1"/></svg>' } ]; }, headerиконка: ['milestone'] }, { поле: '', заголовок: ' ', стиль: { borderLineширина: 0 } }, { поле: 'компонент', заголовок: 'компонент', стиль: { borderLineширина: 2, borderColor: '' }, headerStyle: { цвет: 'black' }, mergeCell: true, иконка(args) { const { колонка, строка, таблица } = args; const стиль = таблица.getCellStyle(колонка, строка); const cellValue = таблица.getCellValue(колонка, строка); if (!cellValue) { возврат ''; } const cellMergeRectW = таблица.getMergeCellRect(колонка, строка).ширина; let textширина = 0; if (cellValue) { textширина = таблица.measureText(cellValue, { fontFamily: стиль.fontFamily, fontSize: стиль.fontSize }).ширина; } const bgширина = Math.min(cellMergeRectW, Math.max(cellMergeRectW * 0.8, textширина + 50)); возврат [ 'компонент', { имя: 'arrow', тип: 'svg', ширина: bgширина, высота: 50, positionType: втаблица.TYPES.иконкаPosition.absoluteRight, marginRight: (cellMergeRectW - bgширина) / 2, interactive: false, svg: '<svg xmlns="http://www.w3.org/2000/svg" ширина="74" высота="11" viewBox="0 0 74 11" заполнить="никто"><path d="M67 0.5H2L7 5L2 10H67L72.5 5L67 0.5Z" заполнить="#F0B92B" strхорошоe="#F0B92B"/></svg>' } ]; }, headerиконка: ['milestone'] } ], тема: { bodyStyle: { заполнение: [20, 0, 20, 0], textAlign: 'центр', цвет: 'white' }, rowHeaderStyle: { borderLineширина: 0 }, selectionStyle: { cellBorderColor: '' } }, records, transpose: true, defaultRowвысота: 30, defaultHeaderColширина: 200, defaultColширина: 180, высотаMode: 'автовысота', columnResizeMode: 'никто' }; const таблицаInstance = новый втаблица.списоктаблица(документ.getElementById(CONTAINER_ID),опция); window['таблицаInstance'] = таблицаInstance; ``` ## Related Tutorials [Производительность optimization](ссылка) 