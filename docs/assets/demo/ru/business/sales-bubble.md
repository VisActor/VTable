--- категория: примеры группа: бизнес заголовок: Продажи bubble график обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/Продажи-bubble.png ссылка: пользовательский_define/пользовательский_render опция: сводныйтаблица#пользовательскийRender.elements --- # Продажи bubble график Map Продажи к circle размер и цвет к help you gain more visual insights into your данные. ## Ключевые Конфигурации - `сводныйтаблица` - `пользовательскийRender` ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица let таблицаInstance; функция getColor(min, max, значение, opaГород) { if (max === min) { if (значение > 0) { возврат `rgba(255,0,0,${opaГород})`; } возврат `rgba(255,255,255,${opaГород})`; } if (значение === '') { возврат `rgba(255,255,255,${opaГород})`; } const c = (значение - min) / (max - min) + 0.1; const red = (1 - c) * 200 + 55; const green = (1 - c) * 200 + 55; возврат `rgba(${red},${green},255,${opaГород})`; } fetch('https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/North_American_Superstore_сводный_график_данные.json') .then(res => res.json()) .then(данные => { const опция = { records: данные, rows: [ { dimensionKey: 'под-Категория', заголовок: 'под-Catogery' } ], колонки: [ { dimensionKey: 'Регион', заголовок: 'Регион' }, { dimensionKey: 'Segment', заголовок: 'Segment' } ], indicators: [ { indicatorKey: 'Продажи', заголовок: 'Продажи' } ], угол: { titleOnDimension: 'никто' }, данныеConfig: { сортировкаRules: [ { сортировкаполе: 'Категория', сортировкаBy: ['Office Supplies', 'Technology', 'Furniture'] } ], totals: { строка: { showSubTotals: true, subTotalsDimensions: ['Категория'], subTotalLabel: 'subtotal' } } }, Подсказка: { isShowOverflowTextПодсказка: true }, hideIndicatorимя: true, defaultHeaderRowвысота: 30, defaultRowвысота: 40, defaultColширина: 60, ширинаMode: 'автоширина', keyboardOptions: { copySelected: true }, пользовательскийRender: { elements: [ { тип: 'circle', x: '50%', y: '50%', radius: значение => { const percent = Math.max(5, (число(значение) / 59645 / 2) * 100); возврат `${percent}%`; }, заполнить: значение => { const цвет = getColor(80, 59645, значение, 0.5); const color1 = getColor(80, 59645, значение, 1); возврат { gradient: 'linear', x0: 0, y0: 1, x1: 0, y1: 0, stops: [ { offset: 0, цвет: цвет }, { offset: 1, цвет: color1 } ] }; } } ], renderDefault: false }, тема: { headerStyle: { borderLineширина: 0, цвет: '#434343', fontSize: 12 }, rowHeaderStyle: { borderLineширина: 0, цвет: '#434343', fontSize: 12 }, cornerHeaderStyle: { borderLineширина: 0, цвет: '#434343', fontSize: 12 }, bodyStyle: { borderLineширина: 0 } } }; таблицаInstance = новый втаблица.сводныйтаблица(документ.getElementById(CONTAINER_ID), опция); window.таблицаInstance = таблицаInstance; }) .catch(err => console.ошибка(err)); ``` 