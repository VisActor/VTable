--- категория: примеры группа: данные-анализ заголовок: сводный анализ Update Subtotal Total Using редактор обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/сводный-анализ-updateTotalданные.gif ссылка: данные_analysis/сводный_таблица_данныеAnalysis опция: сводныйтаблица#данныеConfig.updateAggregationOnEditCell --- # сводный анализ - Update Subtotal Total Using редактор к summarize таблица данные в сводный анализ, configure totals в данныеConfig к set the total subtotal из the строка и колонка dimensions, и configure updateAggregationOnEditCell к true к update the subtotal total when editing the ячейка. ## Ключевые Конфигурации - `сводныйтаблица` - `колонки` - `rows` - `indicators` - `данныеConfig` - `updateAggregationOnEditCell` When updateAggregationOnEditCell is true, the subtotal total will be updated when editing the ячейка. ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица const input_editor = новый втаблица_editors.InputEditor(); втаблица.регистрация.редактор('ввод', input_editor); const sumNumberFormat = втаблица.данныеStatistics.numberFormat({ prefix: '$' }); const countNumberFormat = втаблица.данныеStatistics.numberFormat({ digitsAfterDecimal: 0, thousandsSep: '', suffix: ' orders' }); let таблицаInstance; fetch('https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/North_American_Superstore_данные.json') .then(res => res.json()) .then(данные => { const опция = { records: данные, rows: [ { dimensionKey: 'Категория', заголовок: 'Категория', headerStyle: { textStick: true }, ширина: 'авто' }, { dimensionKey: 'под-Категория', заголовок: 'под-Catogery', headerStyle: { textStick: true }, ширина: 'авто' } ], колонки: [ { dimensionKey: 'Регион', заголовок: 'Регион', headerStyle: { textStick: true }, ширина: 'авто' }, { dimensionKey: 'Segment', заголовок: 'Segment', headerStyle: { textStick: true }, ширина: 'авто' } ], indicators: ['TotalПродажи', 'OrderCount', 'AverвозрастOrderПродажи', 'MaxOrderПродажи', 'MinOrderПродажи'], угол: { titleOnDimension: 'строка', headerStyle: { textStick: true } }, данныеConfig: { updateAggregationOnEditCell: true, aggregationRules: [ //做聚合计算的依据，如销售额如果没有配置则默认按聚合sum计算结果显示单元格内容 { indicatorKey: 'TotalПродажи', //指标名称 поле: 'Продажи', //指标依据字段 aggregationType: втаблица.TYPES.AggregationType.SUM, //计算类型 formatFun: sumNumberFormat }, { indicatorKey: 'OrderCount', //指标名称 поле: 'Продажи', //指标依据字段 aggregationType: втаблица.TYPES.AggregationType.COUNT, //计算类型 formatFun: countNumberFormat }, { indicatorKey: 'AverвозрастOrderПродажи', //指标名称 поле: 'Продажи', //指标依据字段 aggregationType: втаблица.TYPES.AggregationType.AVG, //计算类型 formatFun: sumNumberFormat }, { indicatorKey: 'MaxOrderПродажи', //指标名称 поле: 'Продажи', //指标依据字段 aggregationType: втаблица.TYPES.AggregationType.MAX, //计算类型 formatFun: sumNumberFormat }, { indicatorKey: 'MinOrderПродажи', //指标名称 поле: 'Продажи', //指标依据字段 aggregationType: втаблица.TYPES.AggregationType.MIN, //计算类型 formatFun: sumNumberFormat } ], totals: { строка: { showGrandTotals: true, grandTotalLabel: '行总计' }, колонка: { showGrandTotals: true, grandTotalLabel: '列总计' } } }, редактор: 'ввод', ширинаMode: 'автоширина' }; таблицаInstance = новый втаблица.сводныйтаблица(документ.getElementById(CONTAINER_ID), опция); window.таблицаInstance = таблицаInstance; }); ``` 