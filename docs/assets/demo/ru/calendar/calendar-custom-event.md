--- категория: примеры группа: календарь заголовок: календарь пользовательский событие обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/календарь-пользовательский-событие.gif ссылка: календарь/introduction опция: календарь#startDate --- # календарь пользовательский событие пользовательский событие в календарь. ## Ключевые Конфигурации - `addпользовательскийсобытие` Add пользовательский событие - `removeпользовательскийсобытие` Remove пользовательский событие ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица const unicColorPool = ['red', 'blue', 'green', 'yellow', 'purple', 'orange', 'pink', 'brown', 'gray']; const пользовательскийсобытиеs = []; const контейнер = документ.getElementById(CONTAINER_ID); const календарь = новый втаблицакалендарь.календарь(контейнер, { таблицаOptions: { тема: { headerStyle: { цвет: args => { if (args.колонка === 0) { возврат 'red'; } возврат '#000'; } } } } }); const информация = документ.createElement('div'); информация.innerText = 'выбрать Date и Нажать Кнопка'; информация.стиль.позиция = 'absolute'; информация.стиль.верх = '10px'; информация.стиль.право = '210px'; информация.стиль.zIndex = '100'; информация.стиль.цвет = '#999'; контейнер?.appendChild(информация); const bottomAddКнопка = документ.createElement('Кнопка'); bottomAddКнопка.innerText = 'Add событие'; bottomAddКнопка.стиль.позиция = 'absolute'; bottomAddКнопка.стиль.верх = '10px'; bottomAddКнопка.стиль.право = '110px'; bottomAddКнопка.стиль.zIndex = '100'; контейнер?.appendChild(bottomAddКнопка); let списоксобытиеIndex = 0; let barсобытиеIndex = 0; bottomAddКнопка.addсобытиесписокener('Нажать', () => { const selectedDates = календарь.selectedDate; if (selectedDates.length === 0) { возврат; } if (selectedDates.length > 1) { const startDate = selectedDates[0].date; const endDate = selectedDates[selectedDates.length - 1].date; календарь.addпользовательскийсобытие({ ид: `bar-событие-${barсобытиеIndex}`, startDate, endDate, текст: `Bar событие ${barсобытиеIndex}`, тип: 'bar', bgColor: unicColorPool[barсобытиеIndex % unicColorPool.length], цвет: '#fff' }); barсобытиеIndex++; } else { const date = selectedDates[0].date; календарь.addпользовательскийсобытие({ ид: `список-событие-${списоксобытиеIndex}`, date, текст: `список событие ${списоксобытиеIndex}`, тип: 'список', цвет: unicColorPool[списоксобытиеIndex % unicColorPool.length] }); списоксобытиеIndex++; } }); const bottomDeleteКнопка = документ.createElement('Кнопка'); bottomDeleteКнопка.innerText = 'Delete событие'; bottomDeleteКнопка.стиль.позиция = 'absolute'; bottomDeleteКнопка.стиль.верх = '10px'; bottomDeleteКнопка.стиль.право = '10px'; bottomDeleteКнопка.стиль.zIndex = '100'; контейнер?.appendChild(bottomDeleteКнопка); bottomDeleteКнопка.addсобытиесписокener('Нажать', () => { const selectedDates = календарь.selectedDate; if (selectedDates.length === 0) { возврат; } const idSet = новый Set(); selectedDates.map(данные => { календарь.getCellпользовательскийсобытиеByLocation(данные.колонка, данные.строка).map(событие => { событие.ид && idSet.add(событие.ид); }); }); календарь.removeпользовательскийсобытиеs(массив.от(idSet)); }); window['календарь'] = календарь; ``` 