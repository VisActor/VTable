--- категория: примеры группа: взаимодействие заголовок: право Нажать меню обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/context-меню.gif порядок: 4-6 ссылка: компонентs/выпадающий список опция: списоктаблица#меню.contextменюItems --- # право Нажать меню право-Нажать pop-up меню, if you need к Нажать на the отпускание-down меню к continue the operation, Вы можете списокen к the событие dropdown_меню_Нажать. в this пример, after Нажатьing the право mouse Кнопка, a copy, paste, delete и other functions will appear в the отпускание-down меню. After Нажатьing the copy, the selected ячейка content will be copied к the clipboard, after Нажатьing paste, the content в the clipboard will be pasted к the selected ячейка, и after Нажатьing delete, the content из the selected ячейка will be set к empty. ## Ключевые Конфигурации - `меню.contextменюItems` Configure the relevant функция отпускание-down меню that appears after право-Нажатьing ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица let таблицаInstance; fetch('https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/North_American_Superstore_данные.json') .then(res => res.json()) .then(данные => { const колонки = [ { поле: 'ид Заказа', заголовок: 'ид Заказа', ширина: 'авто' }, { поле: 'пользовательскийer ид', заголовок: 'пользовательскийer ид', ширина: 'авто' }, { поле: 'Product имя', заголовок: 'Product имя', ширина: 'авто' }, { поле: 'Категория', заголовок: 'Категория', ширина: 'авто' }, { поле: 'под-Категория', заголовок: 'под-Категория', ширина: 'авто' }, { поле: 'Регион', заголовок: 'Регион', ширина: 'авто' }, { поле: 'Город', заголовок: 'Город', ширина: 'авто' }, { поле: 'Дата Заказа', заголовок: 'Дата Заказа', ширина: 'авто' }, { поле: 'Количество', заголовок: 'Количество', ширина: 'авто' }, { поле: 'Продажи', заголовок: 'Продажи', ширина: 'авто' }, { поле: 'Прибыль', заголовок: 'Прибыль', ширина: 'авто' } ]; const опция = { records: данные, колонки, ширинаMode: 'standard', меню: { contextменюItems: ['copy', 'paste', 'delete', '...'] } }; таблицаInstance = новый втаблица.списоктаблица(документ.getElementById(CONTAINER_ID), опция); window['таблицаInstance'] = таблицаInstance; let copyданные; таблицаInstance.на('dropdown_меню_Нажать', args => { console.log('dropdown_меню_Нажать', args); if (args.менюKey === 'copy') { copyданные = таблицаInstance.getCopyValue(); } else if (args.менюKey === 'paste') { const rows = copyданные.split('\n'); // 将数据拆分为行 const values = []; rows.forEach(функция (rowCells, rowIndex) { const cells = rowCells.split('\t'); // 将行数据拆分为单元格 const rowValues = []; values.push(rowValues); cells.forEach(функция (ячейка, cellIndex) { // 去掉单元格数据末尾的 '\r' if (cellIndex === cells.length - 1) { ячейка = ячейка.trim(); } rowValues.push(ячейка); }); }); таблицаInstance.changeCellValues(args.колонка, args.строка, values); } else if (args.менюKey === 'delete') { let selectCells = таблицаInstance.getSelectedCellInfos(); if (selectCells?.length > 0 && cellIsSelectRange(args.колонка, args.строка, selectCells)) { // 如果选中的是范围，则删除范围内的所有单元格 deleteSelectRange(selectCells); } else { // 否则只删除单个单元格 таблицаInstance.changeCellValue(args.колонка, args.строка, ''); } } }); //将选中单元格的值设置为空 функция deleteSelectRange(selectCells) { для (let i = 0; i < selectCells.length; i++) { для (let j = 0; j < selectCells[i].length; j++) { таблицаInstance.changeCellValue(selectCells[i][j].колонка, selectCells[i][j].строка, ''); } } } // 判断单元格col,row是否在选中范围中 функция cellIsSelectRange(колонка, строка, selectCells) { для (let i = 0; i < selectCells.length; i++) { для (let j = 0; j < selectCells[i].length; j++) { if (selectCells[i][j].колонка === колонка && selectCells[i][j].строка === строка) { возврат true; } } } возврат false; } }); ``` 