--- категория: примеры группа: пользовательский заголовок: ячейка пользовательский макет обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/пользовательский-ячейка-макет.png ссылка: пользовательский_define/пользовательский_макет опция: списоктаблица-колонки-текст#пользовательскиймакет --- # ячейка пользовательский макет пользовательскийize ячейка content к achieve imвозраст и текст mixing effects ## Ключевые Конфигурации - `пользовательскиймакет` Configure the апи к возврат what needs к be rendered ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица // only использовать для website const { createGroup, createText, createImвозраст, тег, флажок, переключатель } = VRender; // использовать this для project // импорт {createGroup, createText, createImвозраст, тег, флажок, переключатель} от '@visactor/втаблица/es/vrender'; втаблица.регистрация.иконка('location', { тип: 'svg', имя: 'location', positionType: втаблица.TYPES.иконкаPosition.лево, svg: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/location.svg' }); втаблица.регистрация.иконка('favorite', { тип: 'svg', имя: 'favorite', positionType: втаблица.TYPES.иконкаPosition.лево, ширина: 20, высота: 20, cursor: 'pointer', Подсказка: { placement: втаблица.TYPES.Placement.верх, заголовок: 'follow', стиль: { шрифт: '10px Arial', bgColor: 'white', цвет: '#333', arrowMark: true } }, svg: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/favorite.svg' }); втаблица.регистрация.иконка('messвозраст', { тип: 'svg', имя: 'messвозраст', positionType: втаблица.TYPES.иконкаPosition.лево, ширина: 20, высота: 20, marginLeft: 10, cursor: 'pointer', Подсказка: { placement: втаблица.TYPES.Placement.верх, заголовок: 'send messвозраст', стиль: { шрифт: '10px Arial', bgColor: 'white', цвет: '#333', arrowMark: true } }, svg: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/messвозраст.svg' }); const опция = { колонки: [ { поле: 'bloggerId', заголовок: 'порядок число' }, { поле: 'bloggerимя', заголовок: 'anchor nickимя', ширина: 330, стиль: { fontFamily: 'Arial', fontWeight: 500 }, пользовательскиймакет: args => { const { таблица, строка, колонка, rect } = args; const запись = таблица.getCellOriginRecord(колонка, строка); const { высота, ширина } = rect ?? таблица.getCellRect(колонка, строка); const контейнер = createGroup({ высота, ширина, display: 'flex', flexDirection: 'строка', flexWrap: 'nowrap' }); const containerLeft = createGroup({ высота, ширина: 60, display: 'flex', flexDirection: 'колонка', alignItems: 'центр', justifyContent: 'space-around' }); контейнер.add(containerLeft); const иконка0 = createImвозраст({ ид: 'иконка0', ширина: 50, высота: 50, imвозраст: запись.bloggerAvatar, cornerRadius: 25 }); containerLeft.add(иконка0); const containerRight = createGroup({ высота, ширина: ширина - 60, display: 'flex', flexDirection: 'колонка', flexWrap: 'nowrap' }); контейнер.add(containerRight); const containerRightTop = createGroup({ высота: высота / 2, ширина, display: 'flex', alignItems: 'flex-конец' }); const containerRightBottom = createGroup({ высота: высота / 2, ширина, display: 'flex', alignItems: 'центр' }); containerRight.add(containerRightTop); containerRight.add(containerRightBottom); const bloggerимя = createText({ текст: запись.bloggerимя, fontSize: 13, fontFamily: 'sans-serif', заполнить: 'black' }); containerRightTop.add(bloggerимя); const location = createImвозраст({ ид: 'location', imвозраст: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/location.svg', ширина: 15, высота: 15, boundsPadding: [0, 0, 0, 10] }); containerRightTop.add(location); const locationимя = createText({ текст: запись.Город, fontSize: 11, fontFamily: 'sans-serif', заполнить: '#6f7070' }); containerRightTop.add(locationимя); для (let i = 0; i < запись?.теги?.length ?? 0; i++) { const тег = новый тег({ текст: запись.теги[i], textStyle: { fontSize: 10, fontFamily: 'sans-serif', заполнить: 'rgb(51, 101, 238)' }, panel: { видимый: true, заполнить: '#f4f4f2', cornerRadius: 5 }, space: 5, boundsPadding: [0, 0, 0, 5] }); containerRightBottom.add(тег); } возврат { rootContainer: контейнер, renderDefault: false }; } }, { поле: 'fansCount', заголовок: 'fansCount', полеFormat(rec) { возврат rec.fansCount + 'w'; }, стиль: { fontFamily: 'Arial', fontSize: 12, fontWeight: 'bold' } }, { поле: 'worksCount', заголовок: 'worksCount', стиль: { fontFamily: 'Arial', fontSize: 12, fontWeight: 'bold' } }, { поле: 'viewCount', заголовок: 'viewCount', полеFormat(rec) { возврат rec.fansCount + 'w'; }, стиль: { fontFamily: 'Arial', fontSize: 12, fontWeight: 'bold' } }, { поле: 'viewCount', заголовок: 'viewCount', полеFormat(rec) { возврат rec.fansCount + 'w'; }, стиль: { fontFamily: 'Arial', fontSize: 12, fontWeight: 'bold' } }, { поле: '', заголовок: 'Operation options', ширина: 200, пользовательскиймакет: args => { const { таблица, строка, колонка, rect } = args; const { высота, ширина } = rect ?? таблица.getCellRect(колонка, строка); const контейнер = createGroup({ высота, ширина, display: 'flex', flexDirection: 'колонка', // alignItems: 'центр', justifyContent: 'центр' }); const checkboxGroup = createGroup({ display: 'flex', flexDirection: 'строка', flexWrap: 'no-перенос', boundsPadding: [5, 0, 5, 10], justifyContent: 'центр' }); контейнер.appendChild(checkboxGroup); const checkboxText = createText({ текст: 'operate: ', fontSize: 12, boundsPadding: [0, 10, 0, 0] }); checkboxGroup.appendChild(checkboxText); const checkbox1 = новый флажок({ текст: { текст: 'like', fontSize: 12 }, spaceBetweenTextAndиконка: 2, boundsPadding: [0, 10, 0, 0] }); checkbox1.рендер(); checkboxGroup.appendChild(checkbox1); checkbox1.addсобытиесписокener('checkbox_state_change', e => { console.log('checkbox_state_change', e); }); const checkbox2 = новый флажок({ текст: { текст: 'collect', fontSize: 12 }, spaceBetweenTextAndиконка: 2 // boundsPadding: [10, 0, 0, 10] }); checkbox2.рендер(); checkboxGroup.appendChild(checkbox2); checkbox2.addсобытиесписокener('checkbox_state_change', e => { console.log('checkbox_state_change', e); }); const radioGroup = createGroup({ display: 'flex', flexDirection: 'строка', flexWrap: 'no-перенос', boundsPadding: [5, 0, 5, 10] }); контейнер.appendChild(radioGroup); const radioText = createText({ текст: 'тип: ', fontSize: 12, boundsPadding: [0, 10, 0, 0] }); radioGroup.appendChild(radioText); const radio1 = новый переключатель({ текст: { текст: 'normal', fontSize: 12 }, checked: true, spaceBetweenTextAndиконка: 2, boundsPadding: [0, 10, 0, 0] }); radio1.рендер(); radioGroup.appendChild(radio1); radio1.addсобытиесписокener('radio_checked', () => { if (radio2.attribute.checked) { radio2.setAttribute('checked', false); таблица.scenegraph.updateNextFrame(); } }); const radio2 = новый переключатель({ текст: { текст: 'special', fontSize: 12 }, spaceBetweenTextAndиконка: 2 }); radio2.рендер(); radioGroup.appendChild(radio2); radio2.addсобытиесписокener('radio_checked', () => { if (radio1.attribute.checked) { radio1.setAttribute('checked', false); таблица.scenegraph.updateNextFrame(); } }); возврат { rootContainer: контейнер, renderDefault: false }; } }, { поле: '', заголовок: 'operation', ширина: 100, иконка: ['favorite', 'messвозраст'] } ], records: [ { bloggerId: 1, bloggerимя: 'Virtual Anchor Xiaohua', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/flower.jpg', introduction: 'Hi everyone, I am Xiaohua, the virtual host. I am a little fairy who likes games, анимация и food. I hope к share happy moments с you through live broadcast.', fansCount: 400, worksCount: 10, viewCount: 5, Город: 'Dream Город', теги: ['game', 'anime', 'food'] }, { bloggerId: 2, bloggerимя: 'Virtual anchor little wolf', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg', introduction: 'Hello everyone, I am the virtual anchor Little Wolf. I like music, travel и photography, и I hope к explore the beauty из the world с you through live broadcast.', fansCount: 800, worksCount: 20, viewCount: 15, Город: 'Город из Music', теги: ['music', 'travel', 'photography'] }, { bloggerId: 3, bloggerимя: 'Virtual anchor bunny', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/rabbit.jpg', introduction: 'Hello everyone, I am the virtual anchor Xiaotu. I like painting, handicrafts и beauty makeup. I hope к share creativity и fashion с you through live broadcast.', fansCount: 600, worksCount: 15, viewCount: 10, Город: 'Город из Art', теги: ['painting', 'handmade', 'beauty makeup'] }, { bloggerId: 4, bloggerимя: 'Virtual anchor kitten', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/cat.jpg', introduction: 'Hello everyone, I am the virtual host Kitty. I am a lazy cat who likes dancing, fitness и coхорошоing. I hope к live a healthy и happy life с everyone through the live broadcast.', fansCount: 1000, worksCount: 30, viewCount: 20, Город: 'Health Город', теги: ['dance', 'fitness', 'coхорошоing'] }, { bloggerId: 5, bloggerимя: 'Virtual anchor Bear', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg', introduction: 'Hello everyone, I am the virtual host Xiaoxiong. A little wise man who likes movies, reading и philosophy, I hope к explore the meaning из life с you through live broadcast.', fansCount: 1200, worksCount: 25, viewCount: 18, Город: 'Город из Wisdom', теги: ['Movie', 'Literature'] }, { bloggerId: 6, bloggerимя: 'Virtual anchor bird', bloggerAvatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bird.jpeg', introduction: 'Hello everyone, I am the virtual anchor Xiaoniao. I like singing, acting и variety shows. I hope к be happy с everyone through the live broadcast.', fansCount: 900, worksCount: 12, viewCount: 8, Город: 'Happy Город', теги: ['music', 'Производительность', 'variety'] } ], defaultRowвысота: 80 }; const таблицаInstance = новый втаблица.списоктаблица(документ.getElementById(CONTAINER_ID), опция); window['таблицаInstance'] = таблицаInstance; ``` 