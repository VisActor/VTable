--- категория: примеры группа: пользовательский заголовок: пользовательский угол ячейка обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/complex-угол.jpeg опция: сводныйтаблица#угол.пользовательскиймакет --- # пользовательский угол ячейка в сводный таблицаs, sometimes there are multiple dimensions из данные анализ, и you need к пользовательскийize the drawing из the upper лево угол area, Вы можете achieve this по defining `пользовательскийMergeCell` и `пользовательскиймакет`. If the requirements из the entire Angle head are не combined, do не configure `пользовательскийMergeCell`. ## Ключевые Конфигурации - `угол.пользовательскиймакет` Configure the апи к возврат what needs к be rendered ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица // only использовать для website const {createGroup, createText, createLine} = VRender; // использовать this для project // импорт {createGroup, createText, createLine} от '@visactor/втаблица/es/vrender'; const опция = { автоFillвысота: true, rows: ['province', 'Город'], колонки: ['Категория', 'sub_Категория'], indicators: ['Продажи', 'число'], defaultHeaderColширина: ['авто', 'авто', 120], defaultHeaderRowвысота: ['авто', 90], indicatorзаголовок: '指标名称', indicatorsAsCol: false, пользовательскийMergeCell: (колонка, строка, таблица) => { if (колонка >= 0 && колонка < 3 && строка <= 1) { возврат { текст: 'объединение текст', range: { начало: { колонка: 0, строка: 0 }, конец: { колонка: 2, строка: 1 } }, стиль: { bgColor: '#ECF1F5' } }; } }, данныеConfig: { totals: { строка: { showGrandTotals: true, showSubTotals: true, subTotalsDimensions: ['province'], grandTotalLabel: '行总计', subTotalLabel: '小计' }, колонка: { showGrandTotals: true, showSubTotals: true, subTotalsDimensions: ['Категория'], grandTotalLabel: '列总计', subTotalLabel: '小计' } } }, угол: { titleOnDimension: 'строка', пользовательскиймакет: args => { const { таблица, строка, колонка, rect } = args; const { высота, ширина } = rect ?? таблица.getCellRect(колонка, строка); const контейнер = createGroup({ высота, ширина }); // 定义文本内容的数组 const texts = [ { текст: 'province', fontSize: 18, x: 10, y: rect.высота - 25 }, { текст: 'Город', fontSize: 18, x: 105, y: rect.высота - 25 }, { текст: 'данные', fontSize: 18, x: rect.ширина - 50, y: rect.высота - 35 }, { текст: 'subКатегория', fontSize: 18, x: rect.ширина - 100, y: rect.высота - 85 }, { текст: 'Категория', fontSize: 18, x: rect.ширина - 80, y: 18 }, { текст: 'indicator', fontSize: 16, x: 176, y: rect.высота - 20 } ]; // 循环添加文本 texts.forEach(({ текст, fontSize, x, y }) => { контейнер.addChild( createText({ текст, fontSize, fontFamily: 'sans-serif', заполнить: 'black', x, y }) ); }); // 定义线段的点 const linePoints = [ { x: rect.лево, y: rect.верх }, { x: 0, y: 0 }, { x: rect.ширина - 40, y: rect.высота }, { x: 0, y: 0 }, { x: 173, y: rect.высота }, { x: 0, y: 0 }, { x: 84, y: rect.высота }, { x: 0, y: 0 }, { x: rect.ширина, y: rect.высота - 90 }, { x: 0, y: 0 }, { x: rect.ширина, y: rect.высота - 38 }, { x: 0, y: 0 } ]; // 添加线段 контейнер.addChild( createLine({ points: linePoints, lineширина: 1, strхорошоe: '#ccc' }) ); возврат { rootContainer: контейнер, renderDefault: false, enableCellPadding: false }; } }, records: [ { Продажи: 891, число: 77899999, province: '浙江省', Город: '杭州市', категория: '家具', sub_категория: '桌子' }, { Продажи: 792, число: 2367, province: '浙江省', Город: '绍兴市', категория: '家具', sub_категория: '桌子' }, { Продажи: 893, число: 3877, province: '浙江省', Город: '宁波市', категория: '家具', sub_категория: '桌子' }, { Продажи: 1094, число: 4342, province: '浙江省', Город: '舟山市', категория: '家具', sub_категория: '桌子' }, { Продажи: 1295, число: 5343, province: '浙江省', Город: '杭州市', категория: '家具', sub_категория: '沙发' }, { Продажи: 496, число: 632, province: '浙江省', Город: '绍兴市', категория: '家具', sub_категория: '沙发' }, { Продажи: 1097, число: 7234, province: '浙江省', Город: '宁波市', категория: '家具', sub_категория: '沙发' }, { Продажи: 998, число: 834, province: '浙江省', Город: '舟山市', категория: '家具', sub_категория: '沙发' }, { Продажи: 766, число: 945, province: '浙江省', Город: '杭州市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 990, число: 1304, province: '浙江省', Город: '绍兴市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 891, число: 1145, province: '浙江省', Город: '宁波市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 792, число: 1432, province: '浙江省', Город: '舟山市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 745, число: 1343, province: '浙江省', Город: '杭州市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 843, число: 1354, province: '浙江省', Город: '绍兴市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 895, число: 1523, province: '浙江省', Город: '宁波市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 965, число: 1634, province: '浙江省', Город: '舟山市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 776, число: 1723, province: '四川省', Город: '成都市', категория: '家具', sub_категория: '桌子' }, { Продажи: 634, число: 1822, province: '四川省', Город: '绵阳市', категория: '家具', sub_категория: '桌子' }, { Продажи: 909, число: 1943, province: '四川省', Город: '南充市', категория: '家具', sub_категория: '桌子' }, { Продажи: 399, число: 2330, province: '四川省', Город: '乐山市', категория: '家具', sub_категория: '桌子' }, { Продажи: 700, число: 2451, province: '四川省', Город: '成都市', категория: '家具', sub_категория: '沙发' }, { Продажи: 689, число: 2244, province: '四川省', Город: '绵阳市', категория: '家具', sub_категория: '沙发' }, { Продажи: 500, число: 2333, province: '四川省', Город: '南充市', категория: '家具', sub_категория: '沙发' }, { Продажи: 800, число: 2445, province: '四川省', Город: '乐山市', категория: '家具', sub_категория: '沙发' }, { Продажи: 1044, число: 2335, province: '四川省', Город: '成都市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 689, число: 245, province: '四川省', Город: '绵阳市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 794, число: 2457, province: '四川省', Город: '南充市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 566, число: 2458, province: '四川省', Город: '乐山市', категория: '办公用品', sub_категория: '笔' }, { Продажи: 865, число: 4004, province: '四川省', Город: '成都市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 999, число: 3077, province: '四川省', Город: '绵阳市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 999, число: 3551, province: '四川省', Город: '南充市', категория: '办公用品', sub_категория: '纸张' }, { Продажи: 999, число: 352, province: '四川省', Город: '乐山市', категория: '办公用品', sub_категория: '纸张' } ], ширинаMode: 'standard', // 宽度模式：standard 标准模式； адаптивный 自动填满容器 bottomFrozenRowCount: 2, rightFrozenColCount: 1, dragпорядок:{ dragHeaderMode: 'все' } }; const instance = новый втаблица.сводныйтаблица(документ.getElementById(CONTAINER_ID), опция); ``` 