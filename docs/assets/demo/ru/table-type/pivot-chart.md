--- категория: примеры группа: таблица-тип заголовок: сводный график обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/preview/сводный-график.png ссылка: таблица_type/сводный_график опция: сводныйграфик-indicators-график#типЯчейки --- # Perspective combination diagram The perspective combination diagram combines the vграфик график library к рендер into the таблица, enriching the visual display форма и improving the rendering Производительность. ## Ключевые Конфигурации - `сводныйграфик` Initialize the таблица тип using сводныйграфик. - `втаблица.регистрация.графикModule('vграфик', Vграфик)` регистрация a графикing library для графикing, currently supports Vграфик - `типЯчейки: 'график'` Specify the тип график - `графикModule: 'vграфик'` Specify the регистрацияed график library имя - `графикSpec: {}` график specs ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица втаблица.регистрация.графикModule('vграфик', Vграфик); let таблицаInstance; fetch('https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/North_American_Superstore_сводный_график_данные.json') .then(res => res.json()) .then(данные => { const колонки = [ { dimensionKey: 'Регион', заголовок: 'Регион', headerStyle: { textStick: true } }, 'Категория' ]; const rows = [ { dimensionKey: 'порядок Year', заголовок: 'порядок Year', headerStyle: { textStick: true } }, 'Ship режим' ]; const indicators = [ { indicatorKey: 'Количество', заголовок: 'Количество', ширина: 'авто', типЯчейки: 'график', графикModule: 'vграфик', графикSpec: { // тип: 'common', stack: true, тип: 'bar', данные: { ид: 'данные', полеs: { //设置xполе数据的顺序 'под-Категория': { сортировкаIndex: 0, domain: [ 'Chairs', 'таблицаs', 'Boхорошоcases', 'Furnishings', 'Binders', 'Art', 'Storвозраст', 'Appliances', 'Envelopes', 'Fasteners', 'Paper', 'Labels', 'Supplies', 'Accessories', 'Phones', 'Copiers', 'Machines' ] }, 'Segment-Indicator': { //设置seriesполе数据的顺序 应该设置20001的顺序的 但是按照图例的顺序设置后堆叠效果和3.X不一致 сортировкаIndex: 1, domain: [ 'Consumer-Количество', 'Corporate-Количество', 'Home Office-Количество', 'Consumer-Продажи', 'Corporate-Продажи', 'Home Office-Продажи', 'Consumer-Прибыль', 'Corporate-Прибыль', 'Home Office-Прибыль' ] // lockStatisticsByDomain: true } } }, xполе: ['под-Категория'], yполе: 'Количество', seriesполе: 'Segment-Indicator', axes: [ { orient: 'лево', видимый: true, label: { видимый: true } }, { orient: 'низ', видимый: true } ], bar: { state: { selected: { заполнить: 'yellow' }, selected_reverse: { // заполнить: '#ddd' opaГород: 0.2 } } }, scales: [ { ид: 'цвет', тип: 'ordinal', domain: [ 'Consumer-Количество', 'Corporate-Количество', 'Home Office-Количество', 'Consumer-Продажи', 'Corporate-Продажи', 'Home Office-Продажи', 'Consumer-Прибыль', 'Corporate-Прибыль', 'Home Office-Прибыль' ], range: [ '#2E62F1', '#4DC36A', '#FF8406', '#FFCC00', '#4F44CF', '#5AC8FA', '#003A8C', '#B08AE2', '#FF6341', '#98DD62', '#07A199', '#87DBDD' ] } ] }, стиль: { заполнение: 1 } }, { indicatorKey: 'Продажи', заголовок: 'Продажи & Прибыль', типЯчейки: 'график', графикModule: 'vграфик', графикSpec: { тип: 'common', серия: [ { тип: 'bar', данные: { ид: 'данные1', полеs: { //设置xполе数据的顺序 'под-Категория': { сортировкаIndex: 0, domain: [ 'Chairs', 'таблицаs', 'Boхорошоcases', 'Furnishings', 'Binders', 'Art', 'Storвозраст', 'Appliances', 'Envelopes', 'Fasteners', 'Paper', 'Labels', 'Supplies', 'Accessories', 'Phones', 'Copiers', 'Machines' ] }, 'Segment-Indicator': { //设置seriesполе数据的顺序 应该设置20001的顺序的 但是按照图例的顺序设置后堆叠效果和3.X不一致 сортировкаIndex: 1, domain: [ 'Consumer-Количество', 'Corporate-Количество', 'Home Office-Количество', 'Consumer-Продажи', 'Corporate-Продажи', 'Home Office-Продажи', 'Consumer-Прибыль', 'Corporate-Прибыль', 'Home Office-Прибыль' ] // lockStatisticsByDomain: true } } }, stack: true, xполе: ['под-Категория'], yполе: 'Продажи', seriesполе: 'Segment-Indicator', bar: { state: { selected: { заполнить: 'yellow' }, selected_reverse: { // заполнить: '#ddd' opaГород: 0.2 } } } }, { тип: 'line', данные: { ид: 'данные2', полеs: { //设置xполе数据的顺序 'под-Категория': { сортировкаIndex: 0, domain: [ 'Chairs', 'таблицаs', 'Boхорошоcases', 'Furnishings', 'Binders', 'Art', 'Storвозраст', 'Appliances', 'Envelopes', 'Fasteners', 'Paper', 'Labels', 'Supplies', 'Phones', 'Accessories', 'Machines', 'Copiers' ] }, 'Segment-Indicator': { //设置seriesполе数据的顺序 应该设置20001的顺序的 但是按照图例的顺序设置后堆叠效果和3.X不一致 сортировкаIndex: 1, domain: [ 'Consumer-Количество', 'Corporate-Количество', 'Home Office-Количество', 'Consumer-Продажи', 'Corporate-Продажи', 'Home Office-Продажи', 'Consumer-Прибыль', 'Corporate-Прибыль', 'Home Office-Прибыль' ] // lockStatisticsByDomain: true } } }, stack: false, xполе: ['под-Категория'], yполе: 'Прибыль', seriesполе: 'Segment-Indicator', line: { state: { selected: { lineширина: 3 }, selected_reverse: { lineширина: 1 } } }, point: { state: { selected: { заполнить: 'yellow' }, selected_reverse: { заполнить: '#ddd' } } } } ], scales: [ { ид: 'цвет', тип: 'ordinal', domain: [ 'Consumer-Количество', 'Corporate-Количество', 'Home Office-Количество', 'Consumer-Продажи', 'Corporate-Продажи', 'Home Office-Продажи', 'Consumer-Прибыль', 'Corporate-Прибыль', 'Home Office-Прибыль' ], range: [ '#2E62F1', '#4DC36A', '#FF8406', '#FFCC00', '#4F44CF', '#5AC8FA', '#003A8C', '#B08AE2', '#FF6341', '#98DD62', '#07A199', '#87DBDD' ] } ] // axes: [ // { orient: 'лево', видимый: true, label: { видимый: true } }, // { orient: 'низ', видимый: true } // ] }, стиль: { заполнение: 1 } } ]; const опция = { rows, колонки, indicators, indicatorsAsCol: false, records: данные, defaultRowвысота: 200, defaultHeaderRowвысота: 50, defaultColширина: 280, defaultHeaderColширина: 100, indicatorзаголовок: '指标', автоWrapText: true, // ширинаMode:'адаптивный', // высотаMode:'адаптивный', угол: { titleOnDimension: 'строка', headerStyle: { автоWrapText: true } }, легендаs: { orient: 'низ', тип: 'discrete', данные: [ { label: 'Consumer-Количество', shape: { заполнить: '#2E62F1', symbolType: 'circle' } }, { label: 'Consumer-Количество', shape: { заполнить: '#4DC36A', symbolType: 'square' } }, { label: 'Home Office-Количество', shape: { заполнить: '#FF8406', symbolType: 'square' } }, { label: 'Consumer-Продажи', shape: { заполнить: '#FFCC00', symbolType: 'square' } }, { label: 'Consumer-Продажи', shape: { заполнить: '#4F44CF', symbolType: 'square' } }, { label: 'Home Office-Продажи', shape: { заполнить: '#5AC8FA', symbolType: 'square' } }, { label: 'Consumer-Прибыль', shape: { заполнить: '#003A8C', symbolType: 'square' } }, { label: 'Consumer-Прибыль', shape: { заполнить: '#B08AE2', symbolType: 'square' } }, { label: 'Home Office-Прибыль', shape: { заполнить: '#FF6341', symbolType: 'square' } } ] }, тема: { bodyStyle: { borderColor: 'gray', borderLineширина: [1, 0, 0, 1] }, headerStyle: { borderColor: 'gray', borderLineширина: [0, 0, 1, 1], навести: { cellBgColor: '#CCE0FF' } }, rowHeaderStyle: { borderColor: 'gray', borderLineширина: [1, 1, 0, 0], навести: { cellBgColor: '#CCE0FF' } }, cornerHeaderStyle: { borderColor: 'gray', borderLineширина: [0, 1, 1, 0], навести: { cellBgColor: '' } }, cornerRightTopCellStyle: { borderColor: 'gray', borderLineширина: [0, 0, 1, 1], навести: { cellBgColor: '' } }, cornerLeftBottomCellStyle: { borderColor: 'gray', borderLineширина: [1, 1, 0, 0], навести: { cellBgColor: '' } }, cornerRightBottomCellStyle: { borderColor: 'gray', borderLineширина: [1, 0, 0, 1], навести: { cellBgColor: '' } }, rightFrozenStyle: { borderColor: 'gray', borderLineширина: [1, 0, 1, 1], навести: { cellBgColor: '' } }, bottomFrozenStyle: { borderColor: 'gray', borderLineширина: [1, 1, 0, 1], навести: { cellBgColor: '' } }, selectionStyle: { cellBgColor: '', cellBorderColor: '' }, frameStyle: { borderLineширина: 0 } } }; таблицаInstance = новый втаблица.сводныйграфик(документ.getElementById(CONTAINER_ID), опция); const { легенда_ITEM_Нажать } = втаблица.списоктаблица.событие_TYPE; таблицаInstance.на(легенда_ITEM_Нажать, args => { console.log('легенда_ITEM_Нажать', args); таблицаInstance.updateFilterRules([ { filterKey: 'Segment-Indicator', filteredValues: args.значение } ]); }); таблицаInstance.onVграфиксобытие('Нажать', args => { console.log('onVграфиксобытие Нажать', args); }); таблицаInstance.onVграфиксобытие('mouseover', args => { console.log('onVграфиксобытие mouseover', args); }); window.таблицаInstance = таблицаInstance; }); ``` 