--- категория: примеры группа: гантт заголовок: гантт график под-task макет режим обложка: https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/гантт/гантт-taskShowMode.gif ссылка: гантт/гантт_task_show_mode опция: гантт#tasksShowMode --- # гантт график под-task макет режим в гантт, the task bar макет режим determines the display effect из the task bars. гантт provides Следующий several task bar макет modes: - `Tasks_Separate`: каждый task node is displayed в a separate строка, с the parent task occupying one строка и the subtasks occupying one строка respectively. This is the по умолчанию display effect. - `Sub_Tasks_Separate`: The parent task node is omitted и не displayed, и все subtask nodes are displayed в separate rows. - `Sub_Tasks_Inline`: The parent task node is omitted и не displayed, и все subtask nodes are placed в the same строка. - `Sub_Tasks_Arrange`: The parent task node is omitted и не displayed, и все subtasks will maintain the данные sequence в the records для макет, ensuring that the nodes do не overlap. - `Sub_Tasks_Compact`: The parent task node is omitted и не displayed, и все subtasks will be laid out according к the date порядок attribute, ensuring a compact display без node overlap. This конфигурация is set through the `гантт#tasksShowMode` конфигурация item. ## ключевая конфигурация - `гантт` - `гантт#tasksShowMode` ## код демонстрация ```javascript живаядемонстрация шаблон=втаблица // импорт * as втаблицагантт от '@visactor/втаблица-гантт'; let ганттInstance; const records = [ { ид: 0, имя: 'Planning', начало: '2024-11-15', конец: '2024-11-21', children: [ { ид: 1, имя: 'Michael Smith', начало: '2024-11-15', конец: '2024-11-17', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg' }, { ид: 2, имя: 'Emily', начало: '2024-11-17', конец: '2024-11-18', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg' }, { ид: 3, имя: 'Rramily', начало: '2024-11-19', конец: '2024-11-20', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg' }, { ид: 4, имя: 'Lichael Join', начало: '2024-11-18', конец: '2024-11-19', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg' } ] }, { ид: 300, имя: 'Research', начало: '2024-11-18', конец: '2024-11-21', children: [ { ид: 5, имя: 'Ryan', начало: '2024-11-18', конец: '2024-11-21', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/rabbit.jpg' } ] }, { имя: 'Goal Setting', начало: '2024-11-18', конец: '2024-11-21', children: [ { ид: 6, имя: 'Daniel Davis', начало: '2024-11-21', конец: '2024-11-22', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/cat.jpg' }, { ид: 7, имя: 'Lauren', начало: '2024-11-18', конец: '2024-11-19', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/flower.jpg' } ] }, { имя: 'Strategy', начало: '2024-11-20', конец: '2024-11-25', children: [ { ид: 8, имя: 'Tacarah Siller', начало: '2024-11-20', конец: '2024-11-21', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg' }, { ид: 9, имя: 'Camentew Olision', начало: '2024-11-25', конец: '2024-11-26', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg' }, { ид: 10, имя: 'Sarah Miller', начало: '2024-11-17', конец: '2024-11-18', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg' }, { ид: 11, имя: 'Matthew Wilson', начало: '2024-11-22', конец: '2024-11-25', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg' }, { ид: 12, имя: 'Grarah Poliller', начало: '2024-11-23', конец: '2024-11-24', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg' } ] }, { имя: 'Execution', начало: '2024-11-22', конец: '2024-11-25', children: [ { ид: 13, имя: 'Ashley Taylor', начало: '2024-11-22', конец: '2024-11-25', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/rabbit.jpg' }, { ид: 14, имя: 'Megan', начало: '2024-11-27', конец: '2024-11-30', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/cat.jpg' }, { ид: 15, имя: 'David', начало: '2024-12-10', конец: '2024-12-18', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/flower.jpg' } ] }, { имя: 'Monitoring', начало: '2024-12-02', конец: '2024-12-25', children: [ { ид: 16, имя: 'Hannah', начало: '2024-11-20', конец: '2024-11-30', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/bear.jpg' }, { ид: 17, имя: 'Andrew', начало: '2024-12-02', конец: '2024-12-18', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/wolf.jpg' } ] }, { имя: 'Reporting', начало: '2024-12-22', конец: '2024-12-28', children: [ { ид: 18, имя: 'Joshua Anderson', начало: '2024-12-22', конец: '2024-12-28', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/rabbit.jpg' } ] }, { имя: 'Process review', начало: '2024-11-25', конец: '2024-11-30', children: [ { ид: 19, имя: 'Christopher Moore', начало: '2024-11-25', конец: '2024-11-30', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/cat.jpg' }, { ид: 20, имя: 'Emma', начало: '2024-12-01', конец: '2024-12-18', avatar: 'https://lf9-dp-fe-cms-tos.byteorg.com/obj/bit-cloud/втаблица/пользовательский-рендер/flower.jpg' } ] } ]; const колонки = [ { поле: 'имя', заголовок: 'PROCESS', ширина: 150, tree: true } ]; const опция = { records, taskсписоктаблица: { колонки: колонки, тема: { bodyStyle: { bgColor: 'white', цвет: 'rgb(115 115 115)' }, headerStyle: { цвет: 'white' } } }, groupBy: true, tasksShowMode: втаблицагантт.TYPES.TasksShowMode.Sub_Tasks_Arrange, frame: { outerFrameStyle: { borderLineширина: 1, borderColor: '#e1e4e8', cornerRadius: 8 }, verticalSplitLineMoveable: false }, grid: { horizontalLine: { lineширина: 1, lineColor: '#e1e4e8' }, verticalLine: { lineширина: 1, lineColor: '#e1e4e8' } }, headerRowвысота: 60, rowвысота: 40, taskBar: { startDateполе: 'начало', endDateполе: 'конец', progressполе: 'progress', labelText: '{имя}', labelTextStyle: { fontFamily: 'Arial', fontSize: 14, textAlign: 'центр', цвет: 'white' }, barStyle: { ширина: 22, /** 任务条的颜色 */ barColor: 'rgb(68 99 244)', /** 已完成部分任务条的颜色 */ completedBarColor: '#91e8e0', /** 任务条的圆角 */ cornerRadius: 15, borderColor: 'black', borderLineширина: 1 } }, dependency: { linkCreaтаблица: true, links: [ { тип: втаблицагантт.TYPES.DependencyType.StartToStart, linkedFromTaskKey: 1, linkedToTaskKey: 2 }, { тип: втаблицагантт.TYPES.DependencyType.FinishToStart, linkedFromTaskKey: 2, linkedToTaskKey: 3 }, { тип: втаблицагантт.TYPES.DependencyType.StartToStart, linkedFromTaskKey: 3, linkedToTaskKey: 5 }, { тип: втаблицагантт.TYPES.DependencyType.FinishToFinish, linkedFromTaskKey: 5, linkedToTaskKey: 4 }, { тип: втаблицагантт.TYPES.DependencyType.StartToStart, linkedFromTaskKey: 8, linkedToTaskKey: 9 }, { тип: втаблицагантт.TYPES.DependencyType.FinishToStart, linkedFromTaskKey: 9, linkedToTaskKey: 10 } ] }, timelineHeader: { verticalLine: { lineColor: '#e1e4e8', lineширина: 1 }, horizontalLine: { lineColor: '#e1e4e8', lineширина: 1 }, backgroundColor: '#63a8ff', scales: [ { unit: 'day', step: 1, format(date) { возврат date.dateIndex.toString(); }, стиль: { fontSize: 20, fontWeight: 'bold', цвет: 'white' } } ] }, minDate: '2024-11-14', maxDate: '2024-12-31', scrollStyle: { scrollRailColor: 'RGBA(246,246,246,0.5)', видимый: 'никто', ширина: 6, scrollSliderCornerRadius: 2, scrollSliderColor: '#5cb85c' } }; ганттInstance = новый втаблицагантт.гантт(документ.getElementById(CONTAINER_ID), опция); window['ганттInstance'] = ганттInstance; const контейнер = документ.getElementById(CONTAINER_ID).parentElement; const wrapper = документ.createElement('div'); wrapper.стиль.высота = '25px'; wrapper.стиль.ширина = '330px'; wrapper.стиль.позиция = 'absolute'; wrapper.стиль.верх = '0px'; wrapper.стиль.лево = '0px'; wrapper.стиль.zIndex = '1000'; wrapper.стиль.backgroundColor = 'white'; контейнер.appendChild(wrapper); // create a выбрать режим selection список const modeSelect = документ.createElement('выбрать'); modeSelect.innerHTML = ` <опция значение="tasks_separate">Tasks_Separate</опция> <опция значение="sub_tasks_separate">Sub_Tasks_Separate</опция> <опция значение="sub_tasks_inline">Sub_Tasks_Inline</опция> <опция значение="sub_tasks_arrange" selected>Sub_Tasks_Arrange</опция> <опция значение="sub_tasks_compact">Sub_Tasks_Compact</опция> `; modeSelect.стиль.marginLeft = '5px'; modeSelect.стиль.высота = '20px'; wrapper.appendChild(документ.createTextNode('Task bar макет режим: ')); wrapper.appendChild(modeSelect); modeSelect.addсобытиесписокener('change', (e) => { const режим = e.target.значение; ганттInstance.updateTasksShowMode(режим); }); ``` 