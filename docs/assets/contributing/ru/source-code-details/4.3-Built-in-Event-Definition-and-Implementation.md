---
заголовок: 4.3 Built-в событие Definition и Implementation    

key words: VisActor,Vграфик,Vтаблица,VStrory,VMind,VGrammar,VRender,Visualization,график,данные,таблица,Graph,Gis,LLM
---
## Introduction


Vтаблица internally списокens к two types из событиеs: native DOM событиеs и built-в пользовательский событиеs.    \r

This article will explain the definition из пользовательский событиеs и matters related к пользовательский событиеs в the Vтаблица.    

## пользовательский событиеs


в front-конец development, communication between Javascript и HTML is done through событиеs, such as потеря фокуса, Нажать, mouse movement, etc. событиеs are a form из communication, и we can complete pвозраст interaction functions по списокening к событиеs.    \r

However, для complex projects, базовый событиеs cannot meet business needs, и this is where **пользовательский событиеs** can be introduced.**    \r

Regular событиеs use the observer pattern, и they are triggered when the user performs the corresponding operation. пользовательский событиеs, на the other hand, use the publish-subscribe pattern, allowing developers к decide when к регистрация и trigger them.

пользовательский событиеs need к be регистрацияed первый, as shown в the figure below. в module E, регистрация и pass в the corresponding обратный вызов первый, и then Вы можете trigger пользовательский событиеs в other modules к execute the corresponding обратный вызов.    \r

<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/sourceкод/img/BxnIbI1s2oY5mkx04UYc319dnFd.gif' alt='' ширина='1000' высота='авто'>

в Vтаблица, пользовательский modules are primarily used для Следующий process: when a user interacts, the corresponding пользовательский событие is triggered, the state module is changed, и the таблица компонент is re-rendered, achieving the interactive system в Vтаблица.

<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/sourceкод/img/Zrh8bJscKoG9qgxAy46cGEYTn8c.gif' alt='' ширина='1000' высота='авто'>

пользовательский событиеs can be used не only для communication between different modules, but also для business parties к регистрация пользовательский событиеs и implement пользовательский logic.    \r

<img src='https://cdn.jsdelivr.net/gh/xuanhun/articles/visactor/sourceкод/img/JTi5bDQvnoCYKSxuIObckj9hnUb.gif' alt='' ширина='1000' высота='авто'>

## Built-в событие Categories


Inside the Vтаблица, more than 50 built-в событиеs are provided, introduced below according к different categories:    \r

* Cell related    

*  Нажать_CELL   *Mouse Нажать cell событие*    

*  DBLНажать_CELL *Mouse double-Нажать cell событие*    

* SELECTED_CELL *Cell selection state change событие*    

*  SELECTED_CLEAR *Cell selection state change событие*    

*  DRAG_SELECT_END *перетаскивание к выбрать cells mouse Релиз событие*     

* MOUSEDOWN_CELL *Mouse down событие на the cell*     

*  MOUSEUP_CELL *Cell mouse up событие*     

* MOUSEMOVE_CELL *Mouse move событие на a cell*    

*  MOUSEENTER_CELL *Mouse enter cell событие*    

*  MOUSELEAVE_CELL *Mouse leave cell событие*    

* CHANGE_CELL_VALUE *событие к change cell значение* \r

* COPY_данные *Cell content copy событие*    

* CONTEXTменю_CELL *Cell право-Нажать событие*    

* Keyboard related событиеs    

*  KEYDOWN *Keyboard key press событие*    

* таблица related событиеs    

*  MOUSEENTER_таблица *Mouse enter таблица событие*    

*  MOUSELEAVE_таблица *Mouse leave таблица событие*    

*  MOUSEDOWN_таблица *Mouse Нажать таблица событие*    

* MOUSEMOVE_таблица *Mouse move событие на the таблица*    

* Row высота и column ширина adjustment событие    

*  RESIZE_COLUMN *Column ширина adjustment событие*    

*  RESIZE_COLUMN_END *Column ширина adjustment конец событие*    

*  RESIZE_ROW *Row высота adjustment событие*    \r

*  RESIZE_ROW_END *Row высота adjustment конец событие*    

* событие из dragging the header к move позиция    

*  CHANGE_HEADER_POSITION_START *перетаскивание the header или перетаскивание the row к начало the move позиция событие*    \r

* CHANGE_HEADER_POSITION *событие для dragging the header или row к move позиция*    

*  CHANGING_HEADER_POSITION  *событие during the process из dragging the header или dragging the row*    

*  CHANGE_HEADER_POSITION_FAIL *The событие из failing к перетаскивание the header или row к move the позиция*    

*  сортировкаing related событиеs    

* сортировка_Нажать *Нажать к сортировка иконка событие.****списоктаблица exclusive событие***    \r

*  сводный_сортировка_Нажать *сводный таблица сортировка иконка Нажать событие.****сводныйтаблица exclusive событие***    \r

* AFTER_сортировка * событие executed after сортировкаing. ****списоктаблица proprietary событие***** ** \r

* иконка событие    

* иконка_Нажать *иконка иконка Нажать событие*     

* FREEZE_Нажать *Нажать the fixed column иконка к freeze или unfreeze the событие* \r

* DRILLменю_Нажать *Drill Кнопка Нажать событие.****сводный таблица specific событие***    \r

* прокрутка событие    

*  прокрутка *прокрутка таблица событие*    

* SCROLL_HORIZONTAL_END *Horizontal прокрутка к the право конец событие*    \r

*  SCROLL_VERTICAL_END *Vertical scrollbar прокрутка к низ событие*    \r

*  Sparklines событие    

*  MOUSEOVER_график_SYMBOL *Mouseover mini график symbol событие*    

* выпадающий список меню событие    

* DROPDOWN_меню_Нажать *Нажать событие из выпадающий список меню option*     

*  DROPDOWN_иконка_Нажать *Нажать the выпадающий список меню Кнопка*    

* DROPDOWN_меню_CLEAR *Clear выпадающий список меню событие (Нажатьing other areas when the меню is displayed)* \r

* SHOW_меню *Display меню событие*     

* HIDE_меню *скрыть меню событие* \r

* легенда событие    

* легенда_ITEM_Нажать *легенда item Нажать событие.****легенда specific событие***** **    \r

*  легенда_ITEM_HOVER *легенда item навести событие.****легенда specific событие***** **    \r

* легенда_ITEM_UNHOVER *легенда item навести к unhover событие.****легенда specific событие***** **    \r

* легенда_CHANGE * The событие is triggered after the цвет легенда, размер легенда, и user operation легенда range. ****легенда-specific событие***** **    \r

* Perspective view axis событие    

*  MOUSEENTER_AXIS *Mouse enter событие на the axis.****Axis-specific событие***** **    \r

*  MOUSELEAVE_AXIS *Mouse leave axis событие.****Axis-specific событие***** **    \r

*  Status change    

* CHECKBOX_STATE_CHANGE *Change the флажок state.****списоктаблица proprietary событие***** **    \r

*  RADIO_STATE_CHANGE *Change the переключатель флажок state.****списоктаблица таблица exclusive событие***** **    \r

* TREE_HIERARCHY_STATE_CHANGE *Tree structure развернуть/свернуть Нажать событие*    

* Lifecycle    

* AFTER_RENDER *Triggered after каждый render is completed*     

* INITIALIZED *Triggered after successful initialization*     \r

* Fill handle событие    

* DRAG_FILL_HANDLE_END *перетаскивание fill handle конец событие*     

* MOUSEDOWN_FILL_HANDLE *перетаскивание fill handle Нажать событие* \r

*  DBLНажать_FILL_HANDLE *Double-Нажать событие для dragging fill handle*     

*  Empty данные prompt    

*   EMPTY_TIP_Нажать *Empty данные tip Нажать событие*    

*   EMPTY_TIP_DBLНажать *Empty данные tip double-Нажать событие*    

Reference Document:    

*  https://visactor.com/vтаблица/апи/событиеs    

## Implementation из пользовательский событиеs


Implementation из пользовательский событиеs, based на the `событиеTarget` module.    

The module provides an на method, which allows для пользовательский событие registration. The тип из пользовательский событиеs can also be defined по the developer.    \r

```Typescript
// packвозрастs\vтаблица\src\событие\событиеTarget.ts
export class событиеTarget {
  private списокenersданные: {
    списокeners,
    списокenerданные
  } = {
    списокeners: {},
    списокenerданные: {}
  };
  на(тип, списокener) {
    const список: таблицасобытиесписокener<тип>[] =
      this.списокenersданные.списокeners[тип] || (this.списокenersданные.списокeners[тип] = []);
    список.push(списокener);

    const id = idCount++;
    this.списокenersданные.списокenerданные[id] = {
      тип,
      списокener,
      remove: (): void => {
        delete this.списокenersданные.списокenerданные[id];
        const index = список.indexOf(списокener);
        список.splice(index, 1);
        if (!this.списокenersданные.списокeners[тип].length) {
          delete this.списокenersданные.списокeners[тип];
        }
      }
    };
    возврат id;
  }
  off(idOrType, списокener): void {
      //...
  }
  addсобытиесписокener(тип, списокener, option): void {
      //...
  }
  removeсобытиесписокener(тип, списокener) {
      //...
  }
  hasсписокeners(тип) {
      //...
  }
  fireсписокeners(тип, событие){
      //...
  }
  Релиз(): void {
      //...
  }
}    

```
Observing the на method, we can see that it collects the регистрацияed пользовательский событие callbacks internally и assigns a unique id к каждый обратный вызов, which can be used later к unрегистрация the обратный вызов.    

The triggering из пользовательский событиеs is done through `fireсписокeners`.    

---
Take double-Нажатьing к авто-fit column ширина as an пример:    \r

1. регистрация the `DBLНажать_CELL` событие в `событиеManвозрастr`    

```xml
// packвозрастs\vтаблица\src\событие\событие.ts
export class событиеManвозрастr {
    constructor() {
        // ...
        bindSelfсобытие();
        // ...
    }
    bindSelfсобытие() {
        // ...
            this.таблица.на(таблица_событие_TYPE.DBLНажать_CELL, () => {
                // 处理双击自动列宽
            })
        // ...
    }
}
    

```
1. в the обратный вызов из the double-Нажать событие, trigger the `DBLНажать_CELL` событие к execute the logic для автоmatically adjusting column ширина на double-Нажать.    

```xml
// packвозрастs\vтаблица\src\событие\списокener\таблица-group.ts
  событиеManвозрастr.gesture.на('doubletap', e => {
    dblНажатьHandler(e, таблица);
  });
  
  функция dblНажатьHandler(e: FederatedPointerсобытие, таблица: Baseтаблицаапи) {
      // ...
      таблица.fireсписокeners(таблица_событие_TYPE.DBLНажать_CELL, cellsсобытие);
      //...
  }    

```
## событие Registration Timing


Most из the built-в событие registrations в Vтаблица are completed в the `событиеManвозрастr` событие manвозрастment module, while a few other built-в событиеs are регистрацияed separately в other компонент modules, including `менюHandler`, `EditManвозрастr`, `ПодсказкаHandler`, etc. Let's take a brief loхорошо в which событиеs are регистрацияed по каждый module.    

*  событиеManвозрастr    

*  иконка_Нажать    

*  DROPDOWN_меню_Нажать    

*  DBLНажать_CELL    

*  MOUSEMOVE_CELL    

*  MOUSELEAVE_таблица    

*  ...    

*  менюHandler    

*  DROPDOWN_иконка_Нажать    

*  DROPDOWN_меню_CLEAR    

*  CONTEXTменю_CELL    

*  EditManвозрастr    

*  DBLНажать_CELL    

*  Нажать_CELL    

*  ПодсказкаHandler    

*  MOUSEENTER_CELL    

*  MOUSEMOVE_CELL    

*  MOUSELEAVE_CELL    

*  SELECTED_CELL    

*  MOUSELEAVE_таблица    

*  прокрутка    

*  ...    

## Conclusion


Vтаблица provides a wealth из built-в событиеs. по регистрацияing these built-в событиеs, businesses can accomplish the majority из пользовательский business logic. The existence из built-в событиеs makes the таблица more flexible.    \r

# This document is provided по Следующий personnel


taiiiyang（https://github.com/taiiiyang）    



# This document was revised и organized по Следующий personnel 
 [玄魂](https://github.com/xuanhun)